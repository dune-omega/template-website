/*! Colliers - redesignV1.min.js - 2/23/2023, 11:04:06 PM */

var isSitecorePageEditor=function(){return!!("undefined"!=typeof Sitecore&&Sitecore&&Sitecore.PageModes&&Sitecore.PageModes.PageEditor)};!function(i){lazyLoad=function(){i("img.lazy-load").each(function(e,t){t=i(t);t.attr("data-src")||t.attr("data-loaded")||(t.attr("src","/content/site/img/image_not_found.jpg"),t.attr("data-loaded",!0).attr("data-fallback",!0).removeClass("d-none"))});for(var e=i(".lazy-load[data-src]"),t=0;t<e.length;t++){var a,o,n=i(e[t]);n.attr("data-loaded")||(o=n.attr("data-bg-img"),a=n.attr("data-src"),o?(n.attr("style","background-image: url("+a+")"),n.removeAttr("data-src")):((o=n.attr("data-srcset"))&&n.attr("srcset",o),n.attr("src",a),n.on("error",function(){var e=this;i(this).off("error"),e.complete&&void 0!==e.naturalWidth&&0!=e.naturalWidth||(e.src="/content/site/img/image_not_found.jpg")})),n.attr("data-loaded",!0))}e.on("load error",function(){i(this).removeAttr("data-src").removeClass("d-none")})},i(document).on("newResultsDisplayed",lazyLoad),i(window).on("load",lazyLoad)}(window.jQuery),function(i){equalheight=function(e){var t,a=0,o=0,n=new Array;i(e).each(function(){if(t=i(this),i(t).height("auto"),topPostion=t.position().top,o!=topPostion){for(currentDiv=0;currentDiv<n.length;currentDiv++)n[currentDiv].height(a);n.length=0,o=topPostion,a=t.height(),n.push(t)}else n.push(t),a=a<t.height()?t.height():a;for(currentDiv=0;currentDiv<n.length;currentDiv++)n[currentDiv].height(a)})},i(window).on("load",function(){equalheight(".icon-item__image"),equalheight(".icon-item__title")}),i(window).resize(function(){equalheight(".icon-item__image"),equalheight(".icon-item__title")})}(window.jQuery);var COLLIERS=COLLIERS||{};COLLIERS.Search=function(){var c="",l="",d="",u="",f="",p="",h="",v="",m="",g="",y="",w="";function _(e){var t=new Coveo.ExpressionBuilder;return t.addFieldExpression(l,"==",e),t.build()}function C(e,t,a){var o="",n=e,e=e.match(new RegExp(t,"gim")),t=e&&0<e.length;return t&&(o=e.join(a||" "),e.forEach(function(e){n=n.replace(e,"")})),{result:n,matchStr:o,match:e,matched:t}}function a(e){var t,a,o,n,i,r,s;c&&l&&(a="",(r=C(i=t=e.queryBuilder.advancedExpression.build(),"\\("+v+"=[a-zA-Z0-9]{32}\\s?"+h+"<>[a-zA-Z0-9]{32}\\)\\s?(OR)?\\s?")).matched&&(a+="("+r.matchStr+") ",i=r.result),(s=C(i,"NOT "+p+"=="+w)).matched&&(a+="("+s.matchStr+") ",i=s.result),o="",(n=function(e){for(var t=[],a=f.split(","),o=e,n="",i=p+"==",r=0;r<a.length;++r){var s=a[r],c=C(o,i+s);c.matched&&(o=c.result,n+=" "+c.matchStr,t.push(s))}return{result:o,matchStr:n,showInParentRegionTemplatesFound:t}}(i)).showInParentRegionTemplatesFound&&0<n.showInParentRegionTemplatesFound.length&&(o=function(e){if(!e||0===e.length)return"";for(var t=[],a=0;a<e.length;++a){var o="("+p+"=="+e[a]+")";t.push(o)}var n=_([u]),i=_(c.split(",")),r=new Coveo.ExpressionBuilder;return r.add(i),r.addFieldExpression(d,"==",["1"]),"(("+t.join(" OR ")+") (("+n+") OR ("+r.build()+")))"}(n.showInParentRegionTemplatesFound),i=n.result),r="",(s=C(i,p+"==[a-zA-Z0-9]{32}")).matched&&(r="("+s.match.join(" OR ")+") "),n=o,i=c,s="",((o=r)||n)&&(s="",(r=o&&n)&&(s+="("),o&&(s+="("+o+" "+_(i.split(","))+")"),r&&(s+=" OR "),n&&(s+=n),r&&(s+=" )"),s+=" "),s&&(a+=s,e.queryBuilder.advancedExpression.remove(t),e.queryBuilder.advancedExpression.add(a)),s=e,m&&g&&(t=s.queryBuilder.advancedExpression.build(),(a=new RegExp(p+"=="+g)).test(t)&&(e="(("+p+"=="+g+") ("+m+"="+y+"))",e=t.replace(a,e),s.queryBuilder.advancedExpression.remove(t),s.queryBuilder.advancedExpression.add(e))))}return{bindEvents:function(e){var t=$("#"+e);c=t.attr("data-region-languages"),l=t.attr("data-language-fieldname"),d=t.attr("data-showinparentregion-fieldname"),u=t.attr("data-region-current-language"),f=t.attr("data-showinparentregion-templates"),p=t.attr("data-template-fieldname"),h=t.attr("data-id-fieldname"),v=t.attr("data-path-fieldname"),m=t.attr("data-expertranking-fieldname"),g=t.attr("data-expert-templatename"),y=t.attr("data-current-region"),w=t.attr("data-mediafolder-template"),t.on("doneBuildingQuery",function(e,t){a(t)}),t.on("afterComponentsInitialization",function(){t.on("duringQuery",function(e,t){COLLIERS.Subscriptions&&(e=$(e.target).coveo(Coveo.QueryController).getEndpoint(),COLLIERS.Subscriptions.QueryEventData=t,COLLIERS.Subscriptions.QueryStringArguments=e.getViewAsHtmlUri())})}),t.on("deferredQuerySuccess",function(e,t){t.results.groupByResults.forEach(function(e){var t=$('[data-field="@'+e.field+'"]'),a=t.attr("data-field");a!==COLLIERS.Resources.sizeField&&a!==COLLIERS.Resources.priceField&&(0<e.values.length?t.closest(".filter").show():t.closest(".filter").hide())})}),$("#searchRedirectLinks .js-search-links-option").on("click",function(){var e=$("#keywords_container .CoveoSearchbox input").val(),t=$(this).data("url");window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),t&&(window.location.hash=window.location.hash+"&q="+e,e=window.location.origin+t+"#q="+e,window.location=e)})},formatNumToString:function(e,t){var a=t?{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}:{};return t=$("html").attr("lang"),e.toLocaleString(t,a)}}}(),function(e){var t=e(".slider-nav").length,a=e(".hero-animated:not(.experience-editor) .hero-animated__slider"),o=e(".hero-animated__slider-nav");a.slick({autoplay:!0,autoplaySpeed:5e3,dots:!0,appendDots:".hero-animated__controls",arrows:!1,fade:!0,pauseOnHover:!1,pauseOnFocus:!0,draggable:!1,waitForAnimate:!1,asNavFor:".hero-animated__slider-nav",responsive:[{breakpoint:1200,settings:{arrows:!0,dots:!0,appendDots:".hero-animated__controls",fade:!1,draggable:!0,adaptiveHeight:!0}}]}),o.slick({slidesToShow:t<=3?1:3,centerMode:3<=t,centerPadding:4===t?"0px":3===t||4<t&&t<7?"60px":"120px",vertical:!0,asNavFor:".hero-animated__slider",dots:!1,arrows:!1,focusOnSelect:!0});var n=e(".hero-animated__controls");e(".hero-animated__controls .js-carousel-pause").click(function(){n.find(".js-carousel-pause").hide(),n.find(".js-carousel-play").show(),a.slick("slickPause")}),e(".hero-animated__controls .js-carousel-play").click(function(){n.find(".js-carousel-play").hide(),n.find(".js-carousel-pause").show(),a.slick("slickPlay")}),t<2&&(e(".hero-animated").addClass("hero-animated--single-slide"),e(".hero-animated__controls").hide()),0===e(".hero__content-placeholder").children().length&&e(".hero__content-placeholder").addClass("is-empty")}(window.jQuery),$(document).ready(function(){var e=$(".hero__content-placeholder.baseline-offset"),t=$(e).outerHeight();window.matchMedia("(min-width: 768px)").matches&&e.css({"margin-top":-(t-245)})});var analytics=analytics||{};analytics.trackPageEvent=function(e,t,a,o,n,i){n={siteName:t,eventId:e,data:a,customValues:o,itemId:n,url:i};n.url||(n.url=window.location.pathname);i=JSON.stringify(n);return console.log("analytics.trackPageEvent",n),$.ajax({dataType:"json",contentType:"application/json; charset=utf-8",method:"POST",url:"/colliersapi/tracking/pageevent",data:i})},analytics.submitEvent=function(e){var t=e[0];if(t){var a=e[1];if(a){var o=2<e.length?e[2]:null,n=3<e.length?e[3]:null,e=4<e.length?e[4]:null;try{analytics.trackPageEvent(t,a,n,e,o)}catch(e){console.log(e)}}}},analytics.sendTracking=function(e){e&&0<e.length&&(e=e.split("|"),$.each(e,function(e,t){t=t.split(",");t&&0<t.length&&analytics.submitEvent(t)}))},analytics.addTrackingToAll=function(){$("body").on("click","[data-trk]:not(.CoveoSearchbox)",function(){analytics.sendTracking($(this).data("trk"))}),$("body").on("click",".CoveoSearchButton",function(){var e=$(this).closest(".CoveoSearchbox");0<e.length&&analytics.sendTracking(e.data("trk"))})},jQuery(document).ready(function(){analytics.addTrackingToAll()});var Froogaloop=function(){function t(e){return new t.fn.init(e)}var r={},s=!1,c=(Array.prototype.slice,"");function i(e,t,a){var o;!a.contentWindow.postMessage||(o=a.getAttribute("src"))&&(o=o.split("?")[0],t=JSON.stringify({method:e,value:t}),"//"===o.substr(0,2)&&(o=window.location.protocol+o),a.contentWindow.postMessage(t,o))}function e(e){var t;try{t=(i=JSON.parse(e.data)).event||i.method}catch(e){}if("ready"!=t||s||(s=!0),e.origin!=c)return!1;var a,o=i.value,n=i.data,i=i.player_id,e=(a=t,((e=i)?r[e]:r)[a]),a=[];return!!e&&(void 0!==o&&a.push(o),n&&a.push(n),i&&a.push(i),0<a.length?e.apply(null,a):e.call())}function l(e,t,a){a?(r[a]||(r[a]={}),r[a][e]=t):r[e]=t}function d(e){return e&&e.constructor&&e.call&&e.apply}return(t.fn=t.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,c=function(e){if(!e)return"";"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var t=e.split("/"),a="",o=0,n=t.length;o<n&&o<3;o++)a+=t[o],o<2&&(a+="/");return a}(this.element.getAttribute("src")),this},api:function(e,t){if(!this.element||!e)return!1;var a=this.element,o=""!==a.id?a.id:null,n=d(t)?null:t,t=d(t)?t:null;return t&&l(e,t,o),i(e,n,a),this},addEvent:function(e,t){if(!this.element)return!1;var a=this.element,o=""!==a.id?a.id:null;return l(e,t,o),"ready"!=e?i("addEventListener",e,a):"ready"==e&&s&&t.call(null,o),this},removeEvent:function(e){if(!this.element)return!1;var t=this.element,a=function(e,t){if(t&&r[t]){if(!r[t][e])return!1;r[t][e]=null}else{if(!r[e])return!1;r[e]=null}return!0}(e,""!==t.id?t.id:null);"ready"!=e&&a&&i("removeEventListener",e,t)}}).init.prototype=t.fn,window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e),window.Froogaloop=window.$f=t}();function eventTrigger(e){return 13===e.which||32===e.which||"click"===e.type}var heroHasOfficesCarousel={run:function(){var e=$(".hero-tall__content"),t=$(".offices-card-container");0<e.children(".offices-card-carousel").length&&(e.addClass("has-offices-carousel"),1===t.length?e.addClass("has-one-office"):2===t.length?e.addClass("has-two-offices"):3===t.length&&e.addClass("has-three-offices"))}},stickyContactUsBtn={run:function(){function e(){t.offset().top+t.height()>=a.offset().top-55&&(t.css("position","absolute"),t.css("bottom",a.height()+20)),$(document).scrollTop()+window.innerHeight<a.offset().top&&(t.css("position","fixed"),t.css("bottom","20px"),"block"===o.css("display")&&t.css("bottom",o.height()+20))}var t=$(".js-contact-us-sticky"),a=$(".footer"),o=$("#CybotCookiebotDialog");t.length&&($(document).scroll(function(){e()}),$(window).resize(function(){e()}))}},hasCoveoSearch={run:function(){var e="has-coveo-search",t=$(".hero__search"),a=$(".banner__search"),o=$(".hero__content-placeholder"),n=0<t.children().length,i=0<a.children().length,r=a.siblings(".banner__title").length<1;$(".hero-tall__content").find(".btn.btn__primary").length&&o.addClass("has-cta-button"),n&&(t.addClass(e),o.addClass(e)),i&&r&&a.parent().addClass(e+" has-no-banner-title")}},collapserComponent={run:function(){var e=$(".js-collapser");e.on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||$(this).next().collapse("toggle")}),e.next().on("show.bs.collapse",function(){$(this).prev().attr("aria-expanded",!0)}),e.next().on("hide.bs.collapse",function(){$(this).prev().attr("aria-expanded",!1)})}},jsonComponents={twoColFlex:function(e,t){var e=$('<div class="two-col-flex"></div>').appendTo(e),a="";$.each(t,function(e,t){$.each(t,function(e,t){a+='<div class="pair"><strong>'+e+"</strong><span>"+t+"</span></div>"})}),e.append(a)},anyColTable:function(e,t,a){var e=$('<table class="json-table"></table>').appendTo(e),o="",n="";o+="<tr>",$.each(t,function(e,t){o+="<th>"+t+"</th>"}),o+="</tr>",$.each(a,function(e,t){n+="<tr>",$.each(t,function(e,t){n+="<td>"+t+"</td>"}),n+="</tr>"}),e.append(o).append(n)},twoColTable:function(e,t){var e=$('<table class="json-table two-col-table"></table>').appendTo(e),a="";$.each(t,function(e,t){a+="<tr>",$.each(t,function(e,t){a+="<td>"+t+"</td>"}),a+="</tr>"}),e.append(a)},bulletedList:function(e,t){var e=$("<ul></ul>").appendTo(e),a="";$.each(t,function(e,t){$.each(t,function(e,t){a+="<li>"+t+"</li>"})}),e.append(a)},iconList:function(e,t,a){e=(2===a?$('<div class="two-col-flex"></div>'):$('<div class="two-col-flex two-col-flex--alt"></div>')).appendTo(e);var o="";$.each(t,function(e,t){o+='<div class="icon-list">',$.each(t,function(e,t){o+="<div>"+t+"</div>"}),o+="</div>"}),e.append(o)}},setupTeaserCardOnCurrentPage={run:function(){setTimeout(function(){$(".js-teaser-card__slides").each(function(){var e=$(this);1<e.find(".teaser-card__slide").length&&!e.closest(".teaser-card-carousel").length&&!e.closest(".suites-container").length&&!e.closest(".megamenu").length&&(e.not(".slick-initialized").slick({infinite:!1,centerMode:!1,arrows:!0,dots:!1,slidesToShow:1}),e.prev(".teaser-card__type").addClass("teaser-card__type--hasSlider"))});var e=".teaser-card",t=".teaser-card__overlay",a="teaser-card__overlay--hide";$(".teaser-card__slides .slick-arrow").hover(function(){$(this).closest(e).find(t).addClass(a)},function(){$(this).closest(e).find(t).removeClass(a)});var o='<div class="tooltip tooltip__teaser-card" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>';$('[data-toggle="teaser-tooltip"]').each(function(){var e=$(this);0<e.closest(".megamenu").length?e.tooltip({placement:"top",template:o,container:".megamenu.show .megamenu__featured--properties"}):e.tooltip({placement:"top",template:o})})},300)}},removeIframesScriptsForms={run:function(){$(".js-property-details__info-description").find("iframe, script, form").remove()}},disableTabLinksInTruncatedDescriptions={run:function(){$(".card__description, .searchresultCard-copy, .expert-description").find('a, button, [role="link"], [role="button"]').attr("tabindex","-1")}},printPage={run:function(){window.print()}},scrollToTopSmooth={run:function(){$("html, body").animate({scrollTop:0},"slow")}},enablePopovers={init:function(){$('[data-toggle="popover"]').popover()},copyUrl:function(){var e=$(".js-btn-copy-url"),t=$(".js-target-url");e.text("Copied"),setTimeout(function(){e.text("Copy")},1200),t.select(),document.execCommand("copy")}},dateTimeValidation={run:function(){var e=$(".book-inspection__submit"),t=$(".appointment").hasClass("not-valid");e.toggleClass("date-time-notvalid",t)}},addAppointmentValidation={run:function(e,t){var a=$(e).closest(".appointment"),t=0!==a.find(t).val().length;0===$(e).val().length?a.toggleClass("not-valid",t):a.toggleClass("not-valid",!t),dateTimeValidation.run()}},datePicker={init:function(){$(".datepicker").datepicker({minDate:"+1d",beforeShow:function(e,t){setTimeout(function(){$("#ui-datepicker-div").css({display:"none"}),$("#ui-datepicker-div a.ui-state-default").attr({tabindex:"-1"}),t.dpDiv.css({top:"auto",left:"auto",position:"absolute"})},0)},beforeShowDay:function(e){var t=$.datepicker.noWeekends(e);return t[0]?function(e){for(i=0;i<natDays.length;i++)if(e.getMonth()===natDays[i][0]-1&&e.getDate()===natDays[i][1]&&e.getYear()===natDays[i][2]-1900)return[!1,""];return[!0,""]}(e):t}}).bind("focus",function(){$("#ui-datepicker-div").appendTo($(this).parent()),setTimeout(function(){$("#ui-datepicker-div").css({display:"block"})},100)}).bind("keypress keydown",function(e){if(8===e.which||46===e.which)return $(this).val(""),$(this).datepicker("hide"),$(this).focus(),e.stopPropagation(),e.preventDefault(),!1}),$(".datepicker").on("blur keyup change",function(){addAppointmentValidation.run(this,".timepicker")})}},timePicker={init:function(){$(".timepicker").timepicker({timeFormat:"h:mm p",interval:30,minTime:"09:00am",maxTime:"8:30pm",startTime:"09:00am",dynamic:!1,dropdown:!0,zindex:9999,scrollbar:!0,change:function(){addAppointmentValidation.run(this,".datepicker")}}).bind("focus",function(){$(".ui-timepicker-container").css({left:"",top:""}),$(".ui-timepicker-container").appendTo($(this).parent())}),$(".timepicker").on("blur keyup change",function(){addAppointmentValidation.run(this,".datepicker")})}},bookInspectionValidation={run:function(){var e=$(".book-inpection__form").validate().checkForm(),t=$(".book-inspection__submit");$(".book-inpection__form").validate().settings.ignore=".datepicker",t.toggleClass("validated",e),$(".book-inspection__submit").hasClass("form-valid")&&$(".book-inspection__submit").addClass("validated")}},enableSubmitBtn={run:function(){$(".contactus__submit-btn").removeAttr("disabled"),$(".js-expert-submit").removeClass("disabled")}};function getCarouselSettings(){return{mobileFirst:!0,infinite:!1,dots:!0,responsive:[{breakpoint:1024,settings:{speed:300,adaptiveHeight:!0,slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{speed:300,adaptiveHeight:!0,slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{speed:300,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1}}]}}function createVimeoPlayers(){createVimeoPlayer("#hero-video"),createVimeoPlayer("#body-video"),COLLIERS.OTVimeoScriptInserted=!0}function createYoutubePlayers(){createYoutubePlayer("#hero-video"),createYoutubePlayer("#body-video"),COLLIERS.OTYoutubeScriptInserted=!0}function createVimeoPlayer(e){var t;"undefined"!=typeof Vimeo&&void 0!==Vimeo.Player&&$(e+".video-vimeo").length&&(t=$(e)[0],new Vimeo.Player(t).on("play",function(){analytics&&!$(e).hasClass("tracked")&&(analytics.sendTracking($(e).data("trk")),$(e).addClass("tracked"))}))}function createYoutubePlayer(e){window.YT&&$(e+".video-youtube").length&&(void 0===YT.Player?(COLLIERS.Property.YTSelectors.push(e),window.onYouTubeIframeAPIReady=function(){loadYouTubePlayers()}):loadYouTubePlayer(e))}function loadYouTubePlayers(){COLLIERS.Property.YTSelectors.forEach(function(e){loadYouTubePlayer(e)})}function loadYouTubePlayer(t){new YT.Player(t.replace("#",""),{events:{onStateChange:function(e){analytics&&window.YT&&e.data===window.YT.PlayerState.PLAYING&&!$(t).hasClass("tracked")&&(analytics.sendTracking($(t).data("trk")),$(t).addClass("tracked"))}}})}function formatDate(e){var t=$(e),a=t.attr("datetime"),e={predefinedFormat:t.attr("data-format")},a=a.replace(" ","T"),e=Coveo.DateUtils.dateToString(Coveo.DateUtils.convertFromJsonDateIfNeeded(a),e);t.text(e)}jQuery(document).ready(function(){heroHasOfficesCarousel.run(),stickyContactUsBtn.run(),hasCoveoSearch.run(),collapserComponent.run(),setupTeaserCardOnCurrentPage.run(),removeIframesScriptsForms.run(),disableTabLinksInTruncatedDescriptions.run(),enablePopovers.init(),datePicker.init(),timePicker.init()}),$(document.body).on("newResultsDisplayed",function(){disableTabLinksInTruncatedDescriptions.run()}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),jQuery.eventable=function(e){return e=jQuery.isFunction(e)?e.prototype:e,$.extend(e,jQuery.eventable.prototype)},jQuery.eventable.prototype={trigger:function(e,t){e=new jQuery.Event(e);return e.preventDefault(),jQuery.event.trigger(e,t,this),this}},jQuery.each(["bind","one","unbind","on","off"],function(e,o){jQuery.eventable.prototype[o]=function(e,t,a){return jQuery(this)[o](e,t,a),this}}),$(document).ready(function(){$.validator.methods.email=function(e,t){return this.optional(t)||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}}),(COLLIERS=COLLIERS||{}).PropertyMap=function(){const r="mapBounds",t="f:location";var p,l,s,d;const e=1e6,a="d87839ff93cc4852821c73a196670223";var o,u,f,i,h,v,m,g,c,y,w,C,b,x,S,k,n,T,L=[],E=[],I="",O=1e3,R=!1,j=!1,M=!1,P=!1,Q=!1;function B(){var e=window.location.hash;return P&&e.indexOf(t)<0&&e.indexOf(r)<0}function F(){(j?function(){{var e;d||(d=new BMap.Map(p.get(0)),(C=new BMap.Icon(o+"mappin-smaller.png",new BMap.Size(17,23))).setImageSize(new BMap.Size(17,23)),(w=new BMap.Icon(o+"mappin_selected.png",new BMap.Size(34,45))).setImageSize(new BMap.Size(34,45)),(b=new BMap.Icon(o+"property-dot-round.png",new BMap.Size(5,5))).setImageSize(new BMap.Size(5,5)),d.enableScrollWheelZoom(!0),e=new BMap.NavigationControl,d.addControl(e),d.addControl(new BMap.ScaleControl),d.centerAndZoom(new BMap.Point(-99.9725978,36.2173314),4),n&&n===a?d.setMapStyle({style:"grayscale"}):d.addControl(new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]})),R&&(d.addEventListener("dragend",A),d.addEventListener("dragging",A),d.addEventListener("zoomstart",z)))}}:function(){{var e;d||(e={disableDefaultUI:!0,controlSize:24,mapTypeControl:!0,mapTypeId:"roadmap",scaleControl:!0,streetViewControl:!1,fullscreenControl:!1,scrollwheel:!1,zoom:4,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}},d=new google.maps.Map(p.get(0),e),C={size:new google.maps.Size(17,23),url:o+"mappin-smaller.png"},w={size:new google.maps.Size(34,45),url:o+"mappin_selected.png"},b={size:new google.maps.Size(5,5),url:o+"property-dot-round.png"},R&&(d.addListener("dragend",A),d.addListener("zoom_changed",z)),n&&n===a&&(e=re(),d.setOptions({styles:e,mapTypeControl:!1})))}})(),M=!0}function z(){event&&"readystatechange"!==event.type&&(I&&"mapmove"!==I&&"zoom"!==I||(I="zoom",q()))}function A(){I&&"mapmove"!==I&&"zoom"!==I||(I="mapmove",q())}function q(){T&&(window.clearTimeout(T),T=null),T=window.setTimeout(D,O)}function D(){const e=d.getBounds();var t,a,o,o=(t=e.getNorthEast(),a=e.getSouthWest(),o=d.getZoom(),{ne:{lat:j?t.lat:t.lat(),lng:j?t.lng:t.lng()},sw:{lat:j?a.lat:a.lat(),lng:j?a.lng:a.lng()},z:o});Coveo.state(s,r,JSON.stringify(o)),Coveo.executeQuery(s)}function V(e,t){var a=Coveo.state(s,r);if(a)try{var o,n=JSON.parse(a);n&&n.sw&&n.ne&&(o=function(e){var t=e.sw.lat,a=e.ne.lat,o=e.sw.lng,n=e.ne.lng;e="";e=0<=o&&n<=0?"( "+("@"+u+"="+t+".."+a+" "+("@"+f+"="+o+"..180"))+" ) OR ( "+("@"+u+"="+t+".."+a+" "+("@"+f+"="+-180+".."+n))+" )":"@"+u+"="+t+".."+a+" "+("@"+f+"="+o+".."+n);return e}(n),t.queryBuilder.advancedExpression.add(o))}catch(e){}}function N(){const e=Coveo.state(s);e.registerNewAttribute(r)}function H(e,t){if(ae()){if(p.parent().is(":visible")&&(F(),t.results.results)){var a,o;if(G(Y(L,t.results.results,!1),L,!0),!I){I="external";var n=Coveo.state(s,r);if(n)try{var i=JSON.parse(n);return o=function(e){return new(j?BMap.Bounds:google.maps.LatLngBounds)(e.sw,e.ne)}(a=i),d.setCenter(o.getCenter()),a.z&&0<a.z&&a.z<=22&&d.setZoom(a.z),I="",void U()}catch(e){}(j?function(e){B()||0===e.length?(d.setCenter({lat:x,lng:S}),d.setZoom(k)):(d.setViewport(_.map(e,function(e){return e.getPosition()})),17<d.getZoom()&&d.setZoom(17))}:function(e){var t=new google.maps.LatLngBounds;if(B()||0===e.length)d.setCenter({lat:x,lng:S}),d.setZoom(k);else{for(var a=0;a<e.length;++a){var o=e[a];o.position&&t.extend(o.position)}d.fitBounds(t),d.panToBounds(t)}17<d.getZoom()&&d.setZoom(17)})(L)}I="",U()}}else setTimeout(function(){H(e,t)},500)}function U(){l.trigger("propertyMap.markersUpdated",COLLIERS.PropertyMap)}function W(e){ae()?(F(),G(Y(E,e.results,!1),E,!1)):setTimeout(function(){W(e)},500)}function K(e,t){var a,o,n;a=t,M&&0!==a.queryBuilder.firstResult||(o=a.queryBuilder.numberOfResults,n=a.queryBuilder.firstResult,a.queryBuilder.numberOfResults=1e3,a.queryBuilder.firstResult=0,(t=a.queryBuilder.build()).fieldsToInclude=["sysrowid",u,f],t.aq="(@"+i+"==0) "+t.aq,a.queryBuilder.numberOfResults=o,a.queryBuilder.firstResult=n,n=Coveo.SearchEndpoint.endpoints.default,c?(n.options.queryStringArguments=c,n.options.restUri="/coveo/rest/search",n.options.accessToken=null):c={sitecoreItemUri:n.options.queryStringArguments.sitecoreItemUri,siteName:n.options.queryStringArguments.siteName},n.search(t).done(W))}function Y(e,t,a){var o,n={add:[],remove:[]};if(!a)for(o=0;o<e.length;o++){var i=e[o],r=_.findIndex(t,{uri:i.property.uri});0<=r||n.remove.push(i)}for(o=0;o<t.length;o++){var s=t[o];0<=function(e,t){for(var a=0;a<e.length;a++)if(e[a].property.uri===t.uri)return a;return-1}(e,s)||n.add.push(s)}return n}function Z(e,t){return _.findWhere(e,{id:t})}function G(e,t,a){var o;if(a)for(o=0;o<e.add.length;o++){var n=e.add[o];"1"!==J(n,i)&&X(n,t,a)}else for(o=0;o<e.add.length;o++)X(e.add[o],t,a);for(o=0;o<e.remove.length;o++)!function(e,t){!function(e){j?d.removeOverlay(e):e.setMap(null)}(e);e=t.indexOf(e);t.splice(e,1)}(e.remove[o],t)}function J(e,t){return e.raw[t]}function X(e,t,a){var o,n,i,r,s,c=function(e,t){var a=J(e,u),o=J(e,f);if(!a||!o)return console.log("createMarker, property has invalid lat/lng",e.title,a,o),null;var n=null;try{var i=oe(a,o);(n=ne(i,t?C:b)).property=e}catch(e){console.log("createMarker error",e)}return n}(e,a);c&&(c.id=J(e,h),a&&(n=e,i=o=c,r="click",s=function(){var e=y;y=o,(!e||e.property&&n.uri!==e.property.uri)&&(ee(y),e&&te(e)),e=n.raw,l.trigger("propertyclick",e)},j?i.addEventListener(r,s):i.addListener(r,s)),s=c,j?d.addOverlay(s):s.setMap(d),a&&Q&&function(e,t){var a=oe(J(e,u),J(e,f)),o=e.clickUri,n=J(e,m),i=null;!n||(s=n.split("|"))&&0<s.length&&(i=s[0]);var i=i||"/content/site/img/image_not_found.jpg",r=J(e,g),n=J(e,v),s=j?null:d,e=j?d:null;COLLIERS.PropertyMapUtils.setupPropertyPopupEvents(s,e,"mouseover",t,a,r,n,o,null,"propTier","/content/site/img/image_not_found.jpg",i,C,w,160)}(e,c),t.push(c))}function ee(e){e.setIcon(w),e.setZIndex(ie()+1)}function te(e){e.setIcon(C),e.setZIndex(ie())}function ae(){return!(j?"undefined"==typeof BMAP_MODE_NAVIGATION:void 0===google.maps)}function oe(e,t){return j?new BMap.Point(t,e):new google.maps.LatLng(e,t)}function ne(e,t){return j?new BMap.Marker(e,{icon:t}):new google.maps.Marker({position:e,icon:t,optimized:!0})}function ie(){return j?e:google.maps.Marker.MAX_ZINDEX}function re(){return[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.country",stylers:[{color:"#808080"},{visibility:"on"},{weight:1}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.locality",stylers:[{color:"#808080"},{visibility:"on"},{weight:1}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{color:"#808080"},{visibility:"on"},{weight:1}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]}return $.eventable({initModule:function(e,t){e&&t&&1===(p=$(e)).length&&1===(l=$(t)).length&&(j="True"===p.attr("data-use-baidu"),Q="True"===p.attr("data-show-info-window"),function(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()};a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}(function(){var e;e=j?"//api.map.baidu.com/api?v=3.0&language="+p.attr("data-language")+"&region="+p.attr("data-country")+"&ak="+p.attr("data-ak")+"&callback="+p.attr("data-callback"):"//maps.googleapis.com/maps/api/js?language="+p.attr("data-language")+"&region="+p.attr("data-country")+"&key="+p.attr("data-key")+"&libraries=places&callback="+p.attr("data-callback");return e}()),s=l.closest(".CoveoSearchInterface").get(0),function(){x=+(p.data("default-lat")+""),S=+(p.data("default-long")+""),k=+(p.data("default-zoom")+""),p.data("center-map-by-default-coordinates")&&(P=!0);isNaN(x)&&(x=0);isNaN(S)&&(S=0);isNaN(k)&&(k=10);u=p.data("lat-fieldname").replace("@",""),f=p.data("long-fieldname").replace("@",""),o=p.data("imagePath"),i=p.data("hideaddress-fieldname").replace("@",""),h=p.data("id-fieldname").replace("@",""),v=p.data("propertyaddress-fieldname").replace("@",""),m=p.data("propertyimages-fieldname").replace("@",""),g=p.data("propertytitle-fieldname").replace("@","");var e=p.data("interactions-delay");e&&(O=e);const t=p.data("enable-interactions");"1"!==t&&"true"!==t.toLowerCase()||(R=!0);n=p.data("map-style"),p.on("propertyMap.querySuccess",H),p.on("propertyMap.deferredQuerySuccess",H),p.on("propertyMap.doneBuildingQuery",K),p.on("propertyMap.afterComponentsInitialization",N),p.on("propertyMap.buildingQuery",V)}())},selectProperty:function(e){e=Z(L,e);e&&ee(e)},deselectProperty:function(e){e=Z(L,e);e&&te(e)},initGoogleMapForMetro:function(e,t,a,o,s,c,n,i,r){{var l;0!==t&&0!==a||(void 0!==COLLIERS&&void 0!==COLLIERS.PropertyMapUtils&&(l=COLLIERS.PropertyMapUtils.averageGeolocation(r),t=l.latitude,a=l.longitude),o=4)}a={lat:t,lng:a};p=$(e);var d=new google.maps.Map(p.get(0),{zoom:o,center:a,styles:re()});r.forEach(function(e){var t={lat:e.Latitude,lng:e.Longitude},a=new google.maps.Marker({position:t,map:d,icon:s}),o=e.Url,n=e.Banner,i=e.Image,r=e.Title,e=e.Address;void 0!==COLLIERS&&void 0!==COLLIERS.PropertyMapUtils&&COLLIERS.PropertyMapUtils.setupPropertyPopupEvents(d,null,"click",a,t,r,e,o,n,"propTier","/content/site/img/property-card-default.png",i,s,c,160)})},initBaiduMapForMetro:function(e,t,a,o,n,i,r,s,c){p=$(e);var l=new BMap.Map(p.get(0));0!==t&&0!==a||(void 0!==COLLIERS&&void 0!==COLLIERS.PropertyMapUtils&&(e=COLLIERS.PropertyMapUtils.averageGeolocation(c),t=e.latitude,a=e.longitude),o=5);var d=new BMap.Point(a,t);l.centerAndZoom(d,o),l.setMapStyle({style:"grayscale"});var u=new BMap.Icon(n,new BMap.Size(r,s)),f=new BMap.Icon(i,new BMap.Size(r,s));c.forEach(function(e){var t=new BMap.Point(e.Longitude,e.Latitude),a=new BMap.Marker(t,{icon:u});l.addOverlay(a);var o=e.Url,n=e.Banner,i=e.Image,r=e.Title,e=e.Address;void 0!==COLLIERS&&void 0!==COLLIERS.PropertyMapUtils&&COLLIERS.PropertyMapUtils.setupPropertyPopupEvents(null,l,"click",a,t,r,e,o,n,"propTier","/content/site/img/property-card-default.png",i,u,f,160)}),l.enableScrollWheelZoom(!0),l.addControl(new BMap.NavigationControl),l.addControl(new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]})),l.addControl(new BMap.ScaleControl),setTimeout(function(){l.centerAndZoom(d,o)},1e3)}})}(),(COLLIERS=COLLIERS||{}).PropertyMapUtils=function(){var v=null;function m(e,t){e&&t&&e.setIcon(t)}return $.eventable({setupPropertyPopupEvents:function(e,t,a,o,n,i,r,s,c,l,d,u,f,p,h){(e||t)&&o&&a&&(i=function(e,t,a,o,n,i,r){e='<a class="map-content"href="'+e+'">';t&&(e+='<div class="map-content__banner '+a+'">'+t+"</div>");return e+='<img class="map-content__img" onerror="this.src = \''+o+'\'" src="'+n+'"/>'+(i?'<div class="map-content__address">'+i+"</div>":"")+'<div class="map-content__title">'+r+"</div></a>"}(s,c,l,d,u,r,i),h=function(e,t,a,o){var n=null;e?(n=function(e){if("click"==e&&v)return v;return v=new google.maps.InfoWindow}(t)).setOptions({content:a,maxWidth:o}):(o={maxWidth:o,enableMessage:!0},n=new BMap.InfoWindow(a,o));return n}(null!=e,a,i,h),function(e,t,a,o,n,i,r,s){e?(o.addListener(n,function(){a.open({anchor:o,map:e}),o.setIcon(s)}),"mouseover"==n&&google.maps.event.addListener(o,"mouseout",function(){a.close(),m(o,r)}),google.maps.event.addListener(a,"closeclick",function(){m(o,r)})):t&&(o.addEventListener(n,function(){t.openInfoWindow(a,i),m(o,s)}),"mouseover"==n?o.addEventListener("mouseout",function(){a.close(),m(o,r)}):a.addEventListener("close",function(){m(o,r)}))}(e,t,h,o,a,n,f,p))},averageGeolocation:function(e){if(1===e.length)return{latitude:e[0].Latitude,longitude:e[0].Longitude};var a=0,o=0,n=0;e.forEach(function(e){var t=e.Latitude*Math.PI/180,e=e.Longitude*Math.PI/180;a+=Math.cos(t)*Math.cos(e),o+=Math.cos(t)*Math.sin(e),n+=Math.sin(t)});var t=e.length;a/=t,o/=t,n/=t;e=Math.atan2(o,a),t=Math.sqrt(a*a+o*o);return{latitude:180*Math.atan2(n,t)/Math.PI,longitude:180*e/Math.PI}}})}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.AreaRangeInput=COLLIERS.Coveo.AreaRangeInput||{init:function(e,t){var i,r,s,c,l,d,u,f,p,h,v,m,a,o,n,g=(n=$("#"+e)).find(".custom-facet__range-input__input-min"),y=n.find(".custom-facet__range-input__input-max"),e=n.closest(".CoveoSearchInterface");n.find(".js-facet-input").on("focus",function(){$(this).closest(".custom-facet__range-input__container").addClass("has-focus"),$(this).on("blur",function(){$(this).closest(".custom-facet__range-input__container").removeClass("has-focus")})}),i=n,r=g,s=y,c=e,$(c).on("afterComponentsInitialization",function(){var e=Coveo.state(c[0]);e.registerNewAttribute("f:"+i.attr("id")),e.registerNewAttribute("f:"+i.attr("id")+":uom")}),$(c).on("doneBuildingQuery",function(){var e=c[0],t=i.find(".custom-facet__range-input__apply"),a=i.find(".facet__tooltip");t.hide(),a.hide();var o=void 0,n=void 0,t=i.attr("id"),a=Coveo.state(e,"f:"+t);a&&(o=(a=a.split(".."))[0],n=a[1]),r.val(o),s.val(n);e=Coveo.state(e,"f:"+t+":uom"),t=i.find("div.custom-facet__area-input__uom-row input");e?(t.removeAttr("checked"),i.find('div.custom-facet__area-input__uom-row input[data-uom-abbreviation="'+e+'"]').prop("checked",!0)):(t.removeAttr("checked"),t.first().prop("checked",!0))}),d=g,u=y,f=e,p=(l=n).find(".custom-facet__range-input__apply"),h=l.find(".facet__tooltip"),$(p).on("click",function(e,t){p.hide(),h.hide();var a=f[0],o=d.val(),n=u.val(),i=+(o+""),r=+(n+"");i&&r&&r<i&&(c=o,o=n,n=c);var s=l.find(".custom-facet__area-input__uom-row").find("input:radio:checked").attr("data-uom-abbreviation"),c=l.attr("id");s&&Coveo.state(a,"f:"+c+":uom",s),i||r?(s="",s+=i?o:"",s+="..",s+=r?n:"",Coveo.state(a,"f:"+c,s)):(Coveo.state(a).setDefault("f:"+c),Coveo.state(a).setDefault("f:"+c+":uom"));c={name:"facetSelect",type:"facet"},n=function(e,t,a){var o=null,n=null;t&&(o=Number(t));a&&(n=Number(a));return{facetId:e.attr("id"),facetTitle:e.attr("data-title"),facetRangeStart:o,facetRangeEnd:n}}(l,o,n);Coveo.logSearchEvent(a,c,n),Coveo.executeQuery(a)}),v=n,m=e,$(m).on("buildingQuery",function(e,t){var a=m[0],o=void 0,n=void 0,i=v.attr("id"),r=Coveo.state(a,"f:"+i);r&&(o=(r=r.split(".."))[0],n=r[1],i=Coveo.state(a,"f:"+i+":uom"),(i=v.find('input[data-uom-abbreviation="'+i+'"]').val())&&(o*=i,n*=i),(n=function(e,t,a){var o=[],n=[],i=null,r=null;t&&(_.each(e,function(e){o=o.concat(e+">="+t)}),0<o.length&&(i=o.join(" OR ")));a&&(_.each(e,function(e){n=n.concat(e+"<="+a)}),0<n.length&&(r=n.join(" OR ")));if(t&&a){if(i&&r){e=new Coveo.ExpressionBuilder;return e.add(i),e.add(r),e.build()}return null}if(t)return i;if(a)return r;return null}(v.attr("data-fields").split(","),o,n))&&t.queryBuilder.advancedExpression.add(n))}),g=g,y=y,a=(n=n).find(".custom-facet__range-input__apply"),o=n.find(".facet__tooltip"),g.on("change keyup paste",function(){a.show(),o.show()}),y.on("change keyup paste",function(){a.show(),o.show()}),n.find("div.custom-facet__area-input__uom-row input").on("change",function(){a.show(),o.show()}),$('[data-toggle="facet-tooltip"]').tooltip({template:'<div class="tooltip tooltip__facet" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})}},COLLIERS.BooleanFacet={init:function(e){var r,s,c,t=$("#"+e),a=t.closest(".CoveoSearchInterface");"1"===t.attr("data-exclusive-or")&&(r=a,c={lastStateKey:"last-"+(s=e),stateKey:"f:"+s,stateChanged:"state:change:f:"+s},$(r).on("afterComponentsInitialization",function(){$(r).on("search:reset",function(e,t){r.data(c.lastStateKey,"")}),$(r).on("newQuery",function(e,t){var a=r.data(c.lastStateKey);0!==Coveo.state(r[0]).get(c.stateKey).length||""!==a&&void 0!==a||(Coveo.state(r[0]).set(c.stateKey,["0"],{silent:!0}),r.data(c.lastStateKey,"0"),$("#"+s)[0].CoveoFacet.selectValue("0"))}),$(r).on(c.stateChanged,function(e,t){var a=$("#"+s).attr("data-default-option"),o=Coveo.state(r[0]).get(c.stateKey),n=r.data(c.lastStateKey),i=$("#"+s)[0].CoveoFacet;if(void 0===n||""===n)return n=0<o.length?o[0]:a,r.data(c.lastStateKey,n),Coveo.state(r[0]).set(c.stateKey,[n],{silent:!0}),i.reset(),void i.selectValue(n);"0"===n?(r.data(c.lastStateKey,"1"),Coveo.state(r[0]).set(c.stateKey,["1"],{silent:!0})):"1"===n&&(r.data(c.lastStateKey,"0"),Coveo.state(r[0]).set(c.stateKey,["0"],{silent:!0})),1<i.getSelectedValues().length&&i.deselectValue(n),i.selectValue(Coveo.state(r[0]).get(c.stateKey))})}))}},(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.CustomFacetDropdown=function(){function f(e){return 13===e.which||32===e.which||"click"===e.type}function p(e,t){if(e.length>t){var a=e.substr(0,t);return a+"... (+"+((e.substr(a.length,e.length-t).match(/[^, ][^ ],/g)||[]).length+1)+")"}return e}return{init:function(d){var t,e,a,u=$(d).closest(".CoveoSearchInterface");0<u.length&&(t=d,e=u,(a=$(t).attr("data-preselected-facet-value"))&&$(e).on("afterInitialization",function(){var e=$(t).coveo();e&&0==e.getSelectedValues().length&&e.selectValue(a)}),$(u).on("afterComponentsInitialization",function(){setInterval(function(){!function(e){if("true"!==$(e).attr("data-single-select")){var t=$(e).closest(".CoveoSearchInterface");if(0===$(t).find(".coveo-facet-search-results li").length?$(t).find(".coveo-facet-search-results").css("display","none"):$(t).find(".coveo-facet-search-results").css("display","block"),"true"===$(e).attr("data-show-facet-value-counts"))return function(e){$(e+".custom-facet__dropdown .coveo-facet-value").each(function(e,t){var a=$(this).find(".coveo-facet-value-count"),o=a.length?a.text():0,a=$(this).find(".coveo-facet-value-caption");a.text().endsWith(" ("+o+")")||a.text(a.text()+" ("+o+")")})}(e)}}(d)},500);$(".custom-facet__dropdown").removeClass("open"),$(u).on("search:reset",function(e,t){"true"===$(d).attr("data-single-select")&&$(d+".custom-facet__dropdown").attr("data-last-value","")}),$(window).on("click touchstart",function(e){var t=!$(e.target).closest(".coveo-facet-value").length;!$(e.target).closest(".custom-facet__dropdown").length&&t&&($(".custom-facet__dropdown").removeClass("open"),$(".coveo-facet-header-title").attr("aria-expanded","false"),$(".coveo-facet-more").attr("aria-expanded","false"))}),$(u).on("state:change:f:"+d.substr(1),function(e,t){var a,o,n="f:"+d.substr(1);"true"===$(d).attr("data-single-select")&&(a=jQuery.Event("singleSelectFacetChanged:"+d.substr(1)),o=Coveo.state(u[0]).get(n),a.lastVal=$(d+".custom-facet__dropdown").attr("data-last-value"),o&&0<o.length&&(a.currVal=Coveo.state(u[0]).get(n)[0]),1<o.length?a.lastVal?(Coveo.state(u[0]).set(n,_.without(o,a.lastVal)),a.deselectedLastValue=!0,a.currVal=Coveo.state(u[0]).get(n)[0],Coveo.get($(document).find(d)[0]).deselectValue(a.lastVal),$(d+".custom-facet__dropdown").attr("data-last-value",a.currVal)):(Coveo.state(u[0]).set(n,_.without(o,o.slice(1))),currFacet.deselectMultipleValues(o.slice(1)),$(d+".custom-facet__dropdown").attr("data-last-value",Coveo.state(u[0]).get(n))):1===o.length&&$(d+".custom-facet__dropdown").attr("data-last-value",o[0]),$(u).trigger(a),setTimeout(function(){$(document.activeElement).blur(),window.scrollTo(0,0)}))}),$(u).on("deferredQuerySuccess",function(e,t){var a=$(d+".custom-facet__dropdown");a.removeClass("open"),function(e,t){var a,o=$(t+".custom-facet__dropdown").data("title"),n=t.substring(1);"false"===$(t+".custom-facet__dropdown").attr("data-init")&&($('<label class="coveo-dropdown-label">'+o+"</label>").prependTo(t+".custom-facet__dropdown"),$(t).find(".coveo-facet-search-clear").attr({tabindex:"0",role:"button","aria-label":$(t).data("label-clear")}),a=0<$(t).find(".coveo-facet-search-input").length?($(t).find(".coveo-dropdown-label").attr("for",n+"-input"),$(t).find(".coveo-facet-search-input").attr({id:n+"-input","aria-label":$(t).find(".coveo-dropdown-label").text()}),$(t).find(".coveo-facet-search-input").attr("id")):($(t).find(".coveo-facet-header-title").attr("id",n+"-title"),$(t).find(".coveo-facet-header-title").attr("id")),$('<div class="coveo-facet-more coveo-active dropdown-caret" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false"><span class="coveo-icon" aria-hidden="true"></span></div>').appendTo(t+".custom-facet__dropdown .coveo-facet-header-title-section"),$(t+".custom-facet__dropdown").attr("data-init","true"),$(t+".custom-facet__dropdown .coveo-facet-values").attr("aria-labelledby",a),1===(s=$(t+".custom-facet__dropdown .coveo-selected")).length&&$(t+".custom-facet__dropdown").attr("data-last-value",s.data("value")),$(t+" .coveo-facet-search-input").focus(function(){$(t+".custom-facet__dropdown").append($(e).find(".coveo-facet-search-results").detach()),$(t+".custom-facet__dropdown .coveo-facet-search-results").attr("aria-labelledby",a),$(".custom-facet__dropdown").removeClass("open closed")}).blur(function(){$(".custom-facet__dropdown").addClass("closed")}),$(t+" .coveo-facet-search-input").keydown(function(){0===$(e).find(".coveo-facet-search-results li").length?$(e).find(".coveo-facet-search-results").css("display","none"):$(e).find(".coveo-facet-search-results").css("display","block")}),$(t+" .coveo-facet-search-input").focus(function(){$(t+".custom-facet__dropdown").append($(e).find(".coveo-facet-search-results").detach())}));var i=$(t+".custom-facet__dropdown").data("label-expand"),r=$(t+".custom-facet__dropdown").data("label-collapse");$(t+".custom-facet__dropdown .coveo-facet-header").find(".coveo-facet-more").attr("aria-label",i);var n=$(t+".custom-facet__dropdown .coveo-facet-values .coveo-facet-value"),s=$(t+".custom-facet__dropdown .coveo-facet-header");s.off(),0<n.length&&s.on("keydown click",function(e){f(e)&&($(this).find(".coveo-facet-header-title").attr("aria-expanded",function(e,t){return"true"==t?"false":"true"}),$(this).find(".coveo-facet-more").attr({"aria-expanded":function(e,t){return"true"==t?"false":"true"},"aria-label":function(e,t){return t==i?r:i}}),e=$(t).hasClass("open"),$(".custom-facet__dropdown").removeClass("open"),e||$(t).addClass("open"))})}(u,d);var o=function(e){var a=$(e+".custom-facet__dropdown .coveo-selected"),o=$(e+".custom-facet__dropdown").attr("data-title");0<a.length&&(o="",a.find(".coveo-facet-value-caption").each(function(e,t){o+=$(this).attr("title"),e<a.length-1&&(o+=", ")}));return o}(d),n=window.matchMedia("(max-width: 767px)"),i=$(d+".custom-facet__dropdown .coveo-selected").length,r=$(d).find(".coveo-dropdown-label"),s=$(d).attr("data-title");n.matches&&0<i?$(r).text(s+" ["+i+"]"):$(r).text(s);var c=$(d+".custom-facet__dropdown .coveo-facet-header-title");c.attr({title:o,role:"button",tabindex:"0","aria-haspopup":"true","aria-expanded":"false"}),"true"===$(d).attr("data-enable-facet-search")&&c.css("display","none");s=a.find(".coveo-facet-values").find("input:checked");function l(){0<$(".search__main-container.expert-search").length&&(window.matchMedia("(min-width: 1700px)").matches?c.text(p(o,27)):window.matchMedia("(min-width: 1400px)").matches?c.text(p(o,20)):window.matchMedia("(min-width: 1200px)").matches&&c.text(p(o,13)))}$(d+" .coveo-facet-search-input").attr("placeholder",o).toggleClass("white-placeholder",!!s.length),c.text(p(o,27)),l(),$(window).on("resize",function(){l()}),$(d+".custom-facet__dropdown .coveo-facet-value-label").on("keydown click",function(e){f(e)&&$(d).removeClass("open")}),a.find(".coveo-facet-values .coveo-facet-value").length<=0&&(s=$(d+" .coveo-facet-header-title",$(u)),a=$(d).data("label-empty-results"),s.text(a))})}))}}}(),COLLIERS.CustomFacetSearchbox={init:function(e){var t,a,o,n;0<(n=$(e).closest(".CoveoSearchInterface")).length&&(o=e,$(n).on("afterInitialization",function(){var e=$(o).coveo();e&&e.searchbox&&null!==e.searchbox.getInput()&&e.searchbox.getInput().removeAttribute("title")}),t=e,n=n,(a=$(t).attr("data-preselected-facet-value"))&&$(n).on("afterInitialization",function(){var e=$(t).coveo();e&&e.searchbox&&0==e.searchbox.getText().length&&e.searchbox.setText(a)}))}},COLLIERS.CustomGlobalSearchbox={init:function(e){var t,a=$(e+"_container");0<a.length&&(t=e,$(a).on("afterInitialization",function(){var e=$(t).coveo();e&&e.searchbox&&null!==e.searchbox.getInput()&&e.searchbox.getInput().removeAttribute("title")}))}},document.addEventListener("DOMContentLoaded",function(){Coveo.TemplateHelpers.registerFieldHelper("colliersDate",function(e,t){return e?(e=e.replace("@"," ").replace("Z",""),Coveo.DateUtils.dateToString(Coveo.DateUtils.convertFromJsonDateIfNeeded(e),t)):""})}),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.ExpertSearchResults=COLLIERS.Coveo.ExpertSearchResults||function(){var a="",o="",n="",i="";return{init:function(e){e=$("#"+e),a=e.attr("data-region-languages"),o=e.attr("data-language-fieldname"),n=e.attr("data-expertranking-fieldname"),i=e.attr("data-current-region"),$(document.body).on("buildingQuery",function(e,t){!function(e){{var t;a&&o&&n&&(t=e.queryBuilder.advancedExpression,e=a.split(","),t.addFieldExpression(o,"==",e),t.addFieldExpression(n,"=",[i]))}}(t)})}}}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.FacetRangeInput=COLLIERS.Coveo.FacetRangeInput||{init:function(e){var n,i,r,s,l,d,u,f,p,h,c,v,t,a,o,m=(o=$("#"+e)).find(".custom-facet__range-input__input-min"),g=o.find(".custom-facet__range-input__input-max"),e=o.closest(".CoveoSearchInterface");n=o,i=m,r=g,s=e,$(s).on("afterComponentsInitialization",function(){Coveo.state(s[0]).registerNewAttribute("f:"+n.attr("id"))}),$(s).on("doneBuildingQuery",function(){var e=s[0],t=n.find(".custom-facet__range-input__apply"),a=n.find(".facet__tooltip");t.hide(),a.hide();var o=void 0,t=void 0,a=n.attr("id"),a=Coveo.state(e,"f:"+a);a&&(o=(a=a.split(".."))[0],t=a[1]),i.val(o),r.val(t)}),d=m,u=g,f=e,p=(l=o).find(".custom-facet__range-input__apply"),h=l.find(".facet__tooltip"),$(p).on("click",function(e,t){p.hide(),h.hide();var a=f[0],o=d.val(),n=u.val(),i=+(o+""),r=+(n+"");i&&r&&r<i&&(s=o,o=n,n=s);var s,c=l.attr("id");i||r?(s="",s+=i?o:"",s+="..",s+=r?n:"",Coveo.state(a,"f:"+c,s)):Coveo.state(a).setDefault("f:"+c);c={name:"facetSelect",type:"facet"},n=function(e,t,a){var o=null,n=null;t&&(o=Number(t));a&&(n=Number(a));return{facetId:e.attr("id"),facetTitle:e.attr("data-title"),facetRangeStart:o,facetRangeEnd:n}}(l,o,n);Coveo.logSearchEvent(a,c,n),Coveo.executeQuery(a)}),c=o,v=e,$(v).on("buildingQuery",function(e,t){var a=v[0],o=void 0,n=void 0,i=c.attr("id"),i=Coveo.state(a,"f:"+i);i&&(o=(i=i.split(".."))[0],n=i[1],(n=function(e,t,a,o,n){a=function(e,t,a){var o=[],n=[],i=null,r=null;t&&(_.each(e,function(e){o=o.concat(e+">="+t)}),0<o.length&&(i=o.join(" OR ")));a&&(_.each(e,function(e){n=n.concat(e+"<="+a)}),0<n.length&&(r=n.join(" OR ")));if(t&&a){if(i&&r){e=new Coveo.ExpressionBuilder;return e.add(i),e.add(r),e.build()}return null}if(t)return i;if(a)return r;return null}(e,t,a);if(a&&o&&"1"!=n){n=o+"==0",o=new Coveo.ExpressionBuilder;return o.add(n),o.add(a),o.build()}return a}(c.attr("data-fields").split(","),o,n,c.attr("data-hidden-price-field"),c.attr("data-include-hidden-prices")))&&t.queryBuilder.advancedExpression.add(n))}),o.find(".js-facet-input").on("focus",function(){$(this).closest(".custom-facet__range-input__container").addClass("has-focus"),$(this).on("blur",function(){$(this).closest(".custom-facet__range-input__container").removeClass("has-focus")})}),m=m,g=g,t=(o=o).find(".custom-facet__range-input__apply"),a=o.find(".facet__tooltip"),m.on("change keyup paste",function(){t.show(),a.show()}),g.on("change keyup paste",function(){t.show(),a.show()})}},(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.GenericSearchResults=COLLIERS.Coveo.GenericSearchResults||function(){var n="",i="",r="",s="";return{init:function(e){(e=$("#"+e)).closest(".CoveoSearchInterface"),n=e.attr("data-region-languages"),i=e.attr("data-language-fieldname"),r=e.attr("data-showinparentregion-fieldname"),s=e.attr("data-region-current-language"),e.on("afterComponentsInitialization",function(){$(document.body).on("duringQuery",function(e,t){COLLIERS.Subscriptions&&(e=$(e.target).coveo(Coveo.QueryController).getEndpoint(),COLLIERS.Subscriptions.QueryEventData=t,COLLIERS.Subscriptions.QueryStringArguments=e.getViewAsHtmlUri())})}),$(document.body).on("buildingQuery",function(e,t){!function(e){{var t,a,o;n&&i&&r&&(t=e.queryBuilder.advancedExpression,a=n.split(","),e="",s&&((o=new Coveo.ExpressionBuilder).addFieldExpression(i,"==",[s]),e+=o.build()),a&&0<a.length&&((o=new Coveo.ExpressionBuilder).addFieldExpression(i,"==",a),o.addFieldExpression(r,"==",["1"]),e&&(e+=" OR "),e+="("+o.build()+")"),e&&t.add(e))}}(t)})}}}(),function(o){function t(e){return 13===e.which||32===e.which||"click"===e.type}o(document).on("keydown click",".magic-box-clear",function(e){t(e)&&o(".coveo-searchbox-wrapper .CoveoSearchButton").trigger("click")}),o(document).on("keydown click",".js-show-phone",function(e){t(e)&&o(this).addClass("show")}),o(window).bind("load",function(){var e=o(".search__basic-search-facets-container"),t=o(".search__main-container .coveo-results-header"),a=e.find(".custom-facet").length;0==a?(e.addClass("one-facet container"),t.addClass("container")):1==a?(e.addClass("two-facets container"),t.addClass("container")):2==a?e.addClass("three-facets"):3==a?e.addClass("four-facets"):4==a?e.addClass("five-facets"):5==a&&e.addClass("six-facets")})}(window.jQuery),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.LocationAutocomplete=COLLIERS.Coveo.LocationAutocomplete||function(){const p="mapBounds";var h="",v="",m="",g="",y=!1,w=!1;function C(e,t,a){var o=t[0],t=e.attr("id");a?Coveo.state(o,"f:"+t,a):Coveo.state(o).setDefault("f:"+t),Coveo.state(o,p)&&Coveo.state(o,p,null);t={name:"facetSelect",type:"facet"},a=a,a={facetId:(e=e).attr("id"),facetTitle:e.attr("data-title"),facetValue:a};Coveo.logSearchEvent(o,t,a),Coveo.executeQuery(o)}return jQuery.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())},{init:function(e){var a,o,n,i,s,c,r,l,d,u,t=$("#"+e),f=t.closest(".CoveoSearchInterface");h=t.attr("data-region-languages"),v=t.attr("data-language"),m=t.attr("data-language-fieldname"),g=t.attr("data-latestversion-fieldname"),t.attr("data-sortby-occurrences")&&(y=!0),t.attr("data-show-facet-value-count")&&(w=!0),Coveo.SearchEndpoint.endpoints.locationAutocomplete=new Coveo.SearchEndpoint({restUri:CoveoForSitecore.Context.element.getAttribute("data-sc-rest-endpoint-uri")}),a=t,o=f,$(o).on("afterComponentsInitialization",function(){var e=Coveo.state(o[0]),t=a.attr("id");e.registerNewAttribute("f:"+t)}),n=t,i=f,$(i).on("afterInitialization",function(){var e=n.attr("data-preselected-facet-value"),t=n.attr("id");e&&(Coveo.state(i[0],"f:"+t)||(Coveo.state(i[0],"f:"+t,e),n.val(e),$(".coveo-location-facet-value-remove").show())),setTimeout(function(){$(document.activeElement).blur(),window.scrollTo(0,0)})}),c=f,(s=t).autocomplete({minLength:2,select:function(e,t){C(s,c,t.item.value)},source:function(e,t){var a,o,n,i,r;a=s,o=c,e=e,n=t,t=Coveo.SearchEndpoint.endpoints.locationAutocomplete,i=e.term,e="("+m+"=="+(h?"("+h+")":'"'+v+'"')+") ("+g+"==1)"+function(e){e=$(".CoveoForSitecoreContext",e);return 1===e.length?' (@source=="'+e.attr("data-sc-index-source-name")+'")':""}(o),o=function(e){var t=$(".CoveoForSitecoreFilterExpression",e);if(1!==t.length)return"";e=t.attr("data-sc-filter-scope-node"),e=JSON.parse(e),e=t.get(0).CoveoForSitecoreFilterExpression.queryFilterNodeResolver.parseQueryFilterNode(e).build();return e?e.aq:""}(o),e={field:a.attr("data-field"),queryOverride:o,constantQueryOverride:e,maximumNumberOfValues:100,sortCriteria:"occurences",pattern:"*"+i+"*",patternType:"Wildcards"},r=new Intl.Collator(v,{usage:"sort",sensitivity:"base",ignorePunctuation:!1}),t.listFieldValues(e).done(function(e){y||e.sort(function(e,t){return r.compare(e.value,t.value)});var t=[];_.each(e,function(e){t.push({label:e.value.replace(new RegExp(i,"gi"),function(e){return"<span class='location-ui-autocomplete-term'>"+e+"</span>"})+(w?" ("+e.numberOfResults+")":""),value:e.value})}),n(t)})}}).data("ui-autocomplete")._renderItem=function(e,t){return $("<li></li>").data("item.autocomplete",t.value).append("<div>"+t.label+"</div>").appendTo(e)},r=t,l=f,$(l).on("buildingQuery",function(e,t){var a,o=l[0];Coveo.state(o,p)||(a=r.attr("id"),(a=Coveo.state(o,"f:"+a))&&t.queryBuilder.advancedExpression.addFieldExpression(r.attr("data-field"),"==",[a]))}),d=t,u=f,$(u).on("doneBuildingQuery",function(){var e=u[0],t=d.attr("id"),t=Coveo.state(e,"f:"+t);d.val(t),t&&0<t.length?$(".coveo-location-facet-value-remove").show():$(".coveo-location-facet-value-remove").hide()}),$(window).scroll(function(){$(".ui-autocomplete").hide()}),$(".coveo-location-facet-value-remove").on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||C(t,f,void 0)})}}}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.PropertySearchResults=COLLIERS.Coveo.PropertySearchResults||function(){var v="mapBounds",m="",g="",y="",w="",C=!0,b=!1;function x(e){"sale"==e?($(".property-search__advanced-search-facets-container .message").hide(),$(".memberof-sale-facets-container").show(),$(".memberof-lease-facets-container").hide(),$(".memberof-residential-sale-facets-container").show(),$(".memberof-residential-rent-facets-container").hide(),$(".memberof-residential-hide-for-rent-facets-container").show()):"lease"==e?($(".property-search__advanced-search-facets-container .message").hide(),$(".memberof-sale-facets-container").hide(),$(".memberof-lease-facets-container").show(),$(".memberof-residential-sale-facets-container").hide(),$(".memberof-residential-rent-facets-container").hide(),$(".memberof-residential-hide-for-rent-facets-container").hide()):"rent"==e?($(".property-search__advanced-search-facets-container .message").hide(),$(".memberof-sale-facets-container").hide(),$(".memberof-lease-facets-container").hide(),$(".memberof-residential-sale-facets-container").hide(),$(".memberof-residential-rent-facets-container").show(),$(".memberof-residential-hide-for-rent-facets-container").hide()):($(".property-search__advanced-search-facets-container .message").show(),$(".memberof-sale-facets-container").hide(),$(".memberof-lease-facets-container").hide(),$(".memberof-residential-sale-facets-container").hide(),$(".memberof-residential-rent-facets-container").hide(),$(".memberof-residential-hide-for-rent-facets-container").show())}function S(e){var t=$("#"+e.attr("data-listing-type-facet-id")).coveo();t&&0==t.getSelectedValues().length&&t.selectValue(e.attr("data-listing-type-all"))}return{init:function(e){var t,a,o,n,i,r,s,c,l,d,u,f,p=$("#"+e),h=p.closest(".CoveoSearchInterface");b=p.data("is-residential"),m=p.attr("data-region-languages"),g=p.attr("data-language-fieldname"),y=p.attr("data-portfolio-id"),w=p.attr("data-portfolios-fieldname"),function(e){var t=window.location.hash;{var a;t&&/fp=/g.test(t)&&((a=t.replace(/.*fp(=|%3d)([^&]*).*/gim,"$2").trim())&&$(e).on("newResultsDisplayed",function(){!function(e){e=$('.teaser-card__favorite[data-property-id="'+e+'"]');e&&e.length&&!e.is(".favorite-icon-selected")&&!e.is(".favorite-login-required")&&e[0].click()}(a)}))}}(p),l=h,t=(e=p).find(".property-search__advanced-search-toggle"),a=e.find(".property-search__advanced-search-facets-container"),o=l[0],l=window.matchMedia("(min-width: 1200px)"),t.on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||($(this).toggleClass("expanded"),$(this).hasClass("expanded")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false"),a.toggleClass("show"),a.hasClass("show")?Coveo.state(o,"advancedSearch",!0):Coveo.state(o).setDefault("advancedSearch"))}),l.matches&&$(window).scroll(function(){200<$(this).scrollTop()&&(t.removeClass("expanded").attr("aria-expanded","false"),a.removeClass("show"))}),l=(n=p).find("button.property-search__button-reset, button.property-search__button-clearfilters"),$(l).on("click",function(){var e,t;t=(e=n)[0],$(e).trigger(jQuery.Event("search:reset")),Coveo.state(t).reset(),S(e),Coveo.executeQuery(t)}),i=p,$(i).on("afterInitialization",function(){S(i)}),r=p,$(r).on("afterComponentsInitialization",function(){var a,o;a="#property-search-map",$(a).trigger("propertyMap.afterComponentsInitialization"),$(document.body).on("buildingQuery",function(e,t){!function(e){{var t;m&&g&&(t=e.queryBuilder.advancedExpression,e=m.split(","),t.addFieldExpression(g,"==",e))}}(t),$(a).trigger("propertyMap.buildingQuery",t)}),$(document.body).on("doneBuildingQuery",function(e,t){$(a).trigger("propertyMap.doneBuildingQuery",t)}),$(document.body).on("querySuccess",function(e,t){$(a).trigger("propertyMap.querySuccess",t)}),$(document.body).on("deferredQuerySuccess",function(e,t){$(a).trigger("propertyMap.deferredQuerySuccess",t),y&&w&&(clearTimeout(o),o=setTimeout(function(){!function(){var e=$(".portfolios-property-search__results-container").offset().top,t=$(".CoveoResultList").outerHeight(),a=$(".portfolios-property-search__map-container").outerHeight();0<$(".coveo-pager-list-item").length&&$(".portfolios-property-search__map-container").addClass("hasPager");$(window).scroll(function(){$(window).scrollTop()>=e-60?$(".portfolios-property-search__map-container").addClass("fixed"):$(".portfolios-property-search__map-container").removeClass("fixed"),$(window).scrollTop()>=e-60+(t-a)-70?($(".portfolios-property-search__map-container").addClass("absolute-bottom"),$(".portfolios-property-search__map-container").removeClass("fixed"),"block"===$(".coveo-show-if-no-results").css("display")?($(".portfolios-property-search__map-container").addClass("no-result-absolute"),$(".portfolios-property-search__map-container").removeClass("absolute-bottom")):($(".portfolios-property-search__map-container").removeClass("no-result-absolute"),$(".portfolios-property-search__map-container").addClass("absolute-bottom"))):($(".portfolios-property-search__map-container").removeClass("absolute-bottom"),$(".portfolios-property-search__map-container").removeClass("no-result-absolute"))})}()},1e3))}),$(document.body).on("duringQuery",function(e,t){COLLIERS.Subscriptions&&(e=$(e.target).coveo(Coveo.QueryController).getEndpoint(),COLLIERS.Subscriptions.QueryEventData=t,COLLIERS.Subscriptions.QueryStringArguments=e.getViewAsHtmlUri())}),$(r).on("singleSelectFacetChanged:"+r.attr("data-listing-type-facet-id"),function(e,t){var a=""===e.currVal?n.all:e.currVal,o=""===e.lastVal?n.all:e.lastVal;e.deselectedLastValue&&a!==o&&function(e){var a=e[0],t=Coveo.state(a).attributes,o={};o.sort=t.sort,o.q=t.q;var n=["listingtype","location","propertytype",v],i=e.attr("data-facet-ids-to-preserve");i&&(n=i.split(","));_.each(n,function(e){e="f:"+e;t[e]&&(o[e]=t[e])}),t[v]&&(o[v]=t[v]);$(e).trigger(jQuery.Event("search:reset")),Coveo.state(a).reset(),_.each(o,function(e,t){Coveo.state(a,t,e)})}(r)});var n={all:r.attr("data-listing-type-all"),sale:r.attr("data-listing-type-sale"),lease:r.attr("data-listing-type-lease"),rent:r.attr("data-listing-type-rent"),sublease:r.attr("data-listing-type-sublease")};$(r).on("deferredQuerySuccess",function(e,t){var a;$(".coveo-list-layout:not(:has(*))").remove(),setupTeaserCardOnCurrentPage.run(),y&&w?C||(a=$(".js-header").height(),o=$(".portfolios-property-search__facets-container").outerHeight(),o=$(".portfolios-property-search__results-container").offset().top-a-o,$("html, body").animate({scrollTop:o},300)):scrollToTopSmooth.run();var o=r.data("listing-type-facet-id");if(o){o=$("#"+o);if(0<o.length){o=o[0].CoveoFacet.getSelectedValues();if(0<o.length)if(function(e,t){{if(e==t.sale)return x("sale"),!0;if(e==t.lease||!b&&e==t.sublease)return x("lease"),!0;if(e==t.rent||b&&e==t.sublease)return x("rent"),!0}return!1}(o[0],n))return}}x(""),C=!1})}),s=p,c=(l=h)[0],$(s).on("afterComponentsInitialization",function(){Coveo.state(c).registerNewAttribute("advancedSearch")}),$(l).on("afterInitialization",function(){var e=s.find(".property-search__advanced-search-toggle"),t=s.find(".property-search__advanced-search-facets-container");Coveo.state(c,"advancedSearch")&&(e.toggleClass("expanded"),t.toggleClass("show"))}),l=p,$(l).on("beforeInitialization",function(e){var n=$(".property-search__advanced-search-facets-container",e);0<n.length&&(e=$(">div[class*='facets-container']",n),$.each(e,function(e){var t=$(this),a=t.children("div"),o="memberof-"+t.attr("class");$.each(a,function(e){var t=$(this);t.addClass(o),n.prepend(t)})}))}(l)),$(l).on("beforeInitialization",function(e){var n=$(".property-search__basic-search-facets-container--secondrow",e);0<n.length&&(e=$(">div[class*='facets-container']",n),$.each(e,function(e){var t=$(this),a=t.children("div"),o="memberof-"+t.attr("class");$.each(a,function(e){var t=$(this);t.addClass(o),n.append(t)})}))}(l)),l=p,0<$(".property-search__basic-search-facets-container--secondrow > div[class*='custom-facet']").length&&l.addClass("double-searchrows"),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-200?($(".property-search__map-container").addClass("absolute-bottom"),"block"===$(".coveo-show-if-no-results").css("display")?$(".property-search__map-container").addClass("no-result-absolute"):$(".property-search__map-container").removeClass("no-result-absolute")):($(".property-search__map-container").removeClass("absolute-bottom"),$(".property-search__map-container").removeClass("no-result-absolute"))}),d=p,u=h[0],$(d).on("afterInitialization",function(){d.on("state:change:q",function(){Coveo.state(u,v)&&Coveo.state(u,v,null)})}),f=p,$(f).on("querySuccess",function(e,t){t=t.results&&0<t.results.totalCount;$(".coveo-results-header",f).toggleClass("coveo-no-results-ex",!t)}),y&&w&&$(document.body).on("buildingQuery",function(e,t){t=t,y&&w&&t.queryBuilder.advancedExpression.addFieldExpression(w,"*=",[y])})}}}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.SearchStandaloneFiltersContainer=COLLIERS.Coveo.SearchStandaloneFiltersContainer||function(){var n=!1,a="",o="",i="",r="";function s(e){var t=$(".CoveoForSitecoreFilterExpression",e);if(1!==t.length)return"";e=t.attr("data-sc-filter-scope-node"),e=JSON.parse(e),e=t.get(0).CoveoForSitecoreFilterExpression.queryFilterNodeResolver.parseQueryFilterNode(e).build();return e?e.aq:""}function c(e){var t=e.queryBuilder.advancedExpression;a&&o&&(e=a.split(","),t.addFieldExpression(o,"==",e)),i&&r&&t.addFieldExpression(i,"=",[r])}return{init:function(e){var t=$("#"+e),e=t.closest(".CoveoSearchInterface");a=t.attr("data-region-languages"),o=t.attr("data-language-fieldname"),i=t.attr("data-expertranking-fieldname"),r=t.attr("data-current-region"),e.find(".CoveoFacet").attr("data-use-and","true"),e.find(".CoveoFacet.custom-facet__dropdown").attr("data-show-facet-value-counts","false"),function(e,o){var t=o[0];e.find(".js-search-standalone-filters__search-button").on("click",function(){n=!0,Coveo.executeQuery(t)}),o.on("afterComponentsInitialization",function(e,t){o.on("buildingQuery",function(e,t){var a=s(o);t.queryBuilder.advancedExpression.parts.length=0,t.queryBuilder.advancedExpression.add(a),c(t)}),o.on("duringFetchMoreQuery",function(e,t){var a=s(o);t.queryBuilder.advancedExpression.parts.length=0,t.queryBuilder.advancedExpression.add(a),c(t)})});var a=e.attr("data-default-keywords-text");a&&o.on("afterInitialization",function(){var e,t=o.find(".CoveoOmnibox");t&&0<t.length?(e=$(t).coveo())&&(e.getText()||e.setText(a)):(e=o.find(".CoveoSearchbox"))&&0<e.length&&((e=$(e).coveo())&&(e.getText()||e.setText(a)))});o.on("querySuccess",function(e,t){var a;n&&(t.cancel=!0,a=document.location.hash,(t=o.attr("data-target-page"))?document.location.href=t+a:console.log("warning: no target page defined"))})}(t,e),function(){var e=".search-standalone-filters__facets-flex-box",t=e+" input[type=text].ui-autocomplete-input",a=e+" .coveo-location-facet-value-remove",o="ui-autocomplete-input-clear_visible";$(a).is(":visible")&&$(t).addClass(o);$(t).on("change paste keyup",function(){var e=$(this);$(a).css("display","block")?e.addClass(o):e.removeClass(o)}),$(a).on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||$(t).removeClass(o)})}()}}}(),function(a){var t=window.matchMedia("(min-width: 1200px)"),o=".js-header",n=".js-header-contain",i=".js-header-transparent",r="background-white",s="background-transparent",e=".js-nav-container";function c(e){a(e).removeClass(s).addClass(r)}function l(e){a(e).removeClass(r).addClass(s)}(0<a(i).length?l:c)(o);var d=a(window).scrollTop();function u(){a(".megamenu__level-one").each(function(){t.matches?(a(this).find(".megamenu__level-two").first().collapse("show"),a(this).find(".megamenu__level-two").first().closest("li").addClass("megamenu__level-one__is-hovered")):(a(this).find(".megamenu__level-two").first().collapse("hide"),a(this).find(".megamenu__level-two").first().closest("li").removeClass("megamenu__level-one__is-hovered"))}),a(".nav-primary__list > ul > li").hover(function(){t.matches&&a(this).find(".megamenu").collapse("show")},function(){t.matches&&a(this).find(".megamenu").collapse("hide")}),a(".megamenu__level-two").on("show.bs.collapse",function(){t.matches&&(a(this).closest(".megamenu__level-one").find("> ul > li").removeClass("megamenu__level-one__is-hovered"),a(this).closest(".megamenu__level-one").find(".megamenu__level-two.collapse.show").collapse("hide"),a(this).closest("li").addClass("megamenu__level-one__is-hovered"))}),a(".megamenu__level-one__toggle-btn").on("click",function(){var e=a(this).data("target");if(t.matches&&a(e).hasClass("show"))return!1}),a(".megamenu__level-one > ul > li").hover(function(){t.matches&&a(this).find(".megamenu__level-two").collapse("show")})}0<a(i).length&&100<=d&&l(o),a(window).scroll(function(){var e=a(window).scrollTop();0<a(i).length&&100<=e&&!a(".js-all-search-box-toggle").hasClass("global-search__toggle-close")?c(o):0<a(i).length&&e<100&&!a(".js-all-search-box-toggle").hasClass("global-search__toggle-close")&&l(o)}),a(n).delay(300).animate({opacity:1},600),a(".js-header-toggle").on("click",function(){var e=a(window).scrollTop();a(this).toggleClass("header-toggle__close"),a("body").toggleClass("no-scroll"),a(n).toggleClass("header-contain__is-open"),a(n).hasClass("header-contain__is-open")?0<a(i).length&&e<=100&&c(o):0<a(i).length&&e<=100&&l(o)}),a(".js-nav-primary-toggle").on("click",function(){a(".megamenu.collapse.show").collapse("hide"),a(this).closest(e).toggleClass("nav-container__is-open"),a(this).parent(".nav-primary__list-toggle").next(".megamenu").toggleClass("megamenu__is-open"),a(this).parent(".nav-primary__list-toggle").next(".megamenu").collapse("toggle")}),a(".js-megamenu-back").on("click",function(){a(this).closest(e).toggleClass("nav-container__is-open")}),a(".megamenu").each(function(){var e=a(this).next(".megamenu__arrow"),t=e.offset().left;a(this).find(".megamenu__level-one").width()+60<t&&e.addClass("megamenu__arrow--grey"),a(this).find(".megamenu__level-two").length<1&&a(this).find(".megamenu__featured").addClass("megamenu__featured__is-full")}),u(),a(window).on("resize",function(){u()})}(window.jQuery),function(e){var t=e("body"),a=e(".js-contrast-toggle"),o=e(".contrast-toggle__increase"),n=e(".contrast-toggle__reset");t.toggleClass(localStorage.contrast),t.hasClass("high-contrast")&&(a.toggleClass("is-toggled"),o.toggleClass("d-none"),n.toggleClass("d-none")),a.click(function(){a.toggleClass("is-toggled"),o.toggleClass("d-none"),n.toggleClass("d-none"),t.toggleClass("high-contrast"),"high-contrast"!=localStorage.contrast?localStorage.contrast="high-contrast":localStorage.contrast=""})}(window.jQuery),function(o){var t=window.matchMedia("(min-width: 1200px)"),n=o(".js-country-selector"),i=o(".js-country-selector-menu"),e=o(".js-country-selector-list").find("li"),r=i.data("url"),s=i.data("item-id"),c=i.data("current-country");function l(){i.collapse("hide")}function a(){o(document).on("click",function(e){t.matches&&!i.has(e.target).length&&i.collapse("hide")})}a(),o(window).on("resize",function(){a()}),e.on("click",function(){if(null==r||null==s)return console.error("Error Selecting Country: Post 'Url': "+r+" - Current 'Item ID': "+s),void l();var e=o(this).data("country-id"),t=n.data("current-lang"),a=COLLIERS.Helix.getCSRFTokenHeader(i);e&&e!==c&&o.ajax({url:r,type:"POST",dataType:"text",data:{countryId:e,currentItemId:s,desiredLanguage:t},context:this,success:function(e){var t;window.location.href!==e&&null!==e&&(1===(t=e.split("|")).length?window.location.href=e:window.open(t[0],t[1]))},headers:a}),l()})}(window.jQuery),function(e){var t=e(".js-all-search-box-toggle"),a=e(".js-search-placeholder"),o=e(".js-header");t.on("click",function(){o.hasClass("background-transparent")&&o.addClass("background-white").removeClass("background-transparent"),a.toggleClass("d-flex"),e(this).toggleClass("global-search__toggle-close"),e(this).hasClass("global-search__toggle-close")?(e(".nav-primary__list, .nav-primary__account").css("opacity","0"),e(this).attr("aria-expanded","true"),e(".global-search .all-search-box").find(".magic-box-input").find("input").focus()):(e(".nav-primary__list, .nav-primary__account").css("opacity","1"),e(this).attr("aria-expanded","false"))})}(window.jQuery),function(o){var n=o(".js-language-selector").data("current-lang"),i=".js-language-selector-toggle";o(i).on("click",function(){var e,t,a=o(this).data("language-code");a&&a!==n&&(o(i).removeClass("language-selector__is-active"),o(this).addClass("language-selector__is-active"),e=o(this).data("href"),a=(t=new URL(document.location).searchParams).has("userToken"),window.location.href=a?e+"?"+t.toString():e)})}(window.jQuery),function(e){e(".my-account").hasClass("is-auth")&&e(".mobile-login").hide()}(window.jQuery),function(e){var t=e(".js-regional-alert"),a=e(".hero--behind-header"),o=e(".js-header"),n=e(".search__facets-container"),i=e(".property-search__facets-container"),r=e(".property-search__results-container"),s=e(".property-search__map-container"),c=e(".expert-nav"),l=window.matchMedia("(min-width: 1200px)"),d=window.matchMedia("(min-width: 768px)");function u(){var e;0<t.length&&!t.hasClass("d-none")&&(e=t.outerHeight(),a.css("padding-top",e),o.find(".nav-menu").get(0).style.setProperty("--regional-alert-height",e+"px"),l.matches?(n.css("margin-top",e),i.css("margin-top",e),r.css("padding-top",e),s.css("margin-top",e)):(n.css("margin-top",0),i.css("margin-top",0),r.css("padding-top",0),s.css("margin-top",0)),d.matches?c.css("margin-top",e):c.css("margin-top",0))}window.location.hash&&0<=window.location.hash.toLowerCase().indexOf("showregionalsitealert")&&(t.removeClass("d-none"),window.location.hash="",u()),e(window).on("resize",function(){u()}),t.on("closed.bs.alert",function(){a.css("padding-top",0),l.matches&&(n.css("margin-top",0),i.css("margin-top",0),r.css("padding-top",0),s.css("margin-top",0)),d.matches&&c.css("margin-top",0)})}(window.jQuery),(COLLIERS=COLLIERS||{}).Property=COLLIERS.Property||{},COLLIERS.Property.YTSelectors=[],function(t){var e=t(".anchor"),a=t(".anchor").offset(),o=t(".anchor__label"),n=t(".anchor__links"),i=t(".anchor__links li a"),r=window.matchMedia("(max-width: 768px)");o.on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||(t(this).toggleClass("expanded"),t(this).hasClass("expanded")?t(this).attr("aria-expanded","true"):t(this).attr("aria-expanded","false"),n.slideToggle(600))}),t(document).click(function(e){!t(e.target).is(".anchor__label")&&o.hasClass("expanded")&&(o.removeClass("expanded"),o.attr("aria-expanded","false"),n.hide())}),r.matches&&e.length&&t(window).scroll(function(){t(window).scrollTop()>a.top?e.addClass("fixed"):e.removeClass("fixed")}),t(window).on("resize",function(){r.matches||(e.addClass("show"),e.removeClass("fixed"))}),i.each(function(){t(this).on("click",function(){r.matches?(n.hide(),o.removeClass("expanded"),o.attr("aria-expanded","false"),t("html, body").animate({scrollTop:t(t(this).attr("href")).offset().top-210},800),e.hasClass("fixed")&&t("html, body").animate({scrollTop:t(t(this).attr("href")).offset().top-125},800)):t("html, body").animate({scrollTop:t(t(this).attr("href")).offset().top-120},800)})})}(window.jQuery),function(t){var a;a=100,t('a[href^="#"]:not(.tabs-region-collapse):not(.js-country-toggle):not(.country__region-title):not([data-toggle="modal"])').on("click",function(){var e;"#"===t(this).attr("href")||(e=t(t(this).attr("href"))).length&&t("html, body").animate({scrollTop:e.offset().top-a},800)})}(window.jQuery),function(e){e(".colliers-date").each(function(e,t){formatDate(t)}),e(".card__date").each(function(e,t){formatDate(t)}),e(".article-date").each(function(e,t){formatDate(t)})}(window.jQuery),function(t){t(".article-blocks.three-up .js-slick").each(function(){var e=t(this);3<=t(this).find(".card").length?(e.slick({centerMode:!0,slidesToShow:1,slidesToScroll:1,dots:!0,dotsClass:"slick-dots--custom",infinite:!0,cssEase:"linear",variableWidth:!0,mobileFirst:!0,responsive:[{breakpoint:767,settings:{slidesToShow:2,centerMode:!1}},{breakpoint:1200,settings:{slidesToShow:3,centerMode:!1,dots:!1}}]}),t(window).on("resize orientationchange",function(){e.slick("resize")})):e.addClass("noslider")}),t(".article-blocks.mosaic, .article-blocks.two-up, .article-blocks.two-up-landscape").find(".article-blocks__container").each(function(){1===t(this).find(".card").length&&t(this).addClass("article-blocks__singleResult")})}(window.jQuery),$(document).ready(function(){var e=$(".carousel"),n=$(".carousel-controls"),i=$(".carousel-nav-btns"),r=$(".carousel-indicators-holder"),s=$(".carousel-indicators-container"),c=$(".carousel-item"),l=$(".carousel-counter");e.each(function(){var e=$(this).find(c).length,t=$(this).find(i),a=$(this).find(s);1<e?$(this).find(l).html("1/"+e):($(this).find(s).hide(),$(this).find(n).hide(),$(this).find(i).hide(),$(this).find(r).hide()),$(this).find(".carousel-item.active").find(n).append(t),$(this).find(".carousel-item.active").find(r).append(a)}),e.on("slid.bs.carousel",function(){var e=$(this).find("div.active").index()+1,t=$(this).find(i),a=$(this).find(s),o=$(this).find(c).length;1<o&&$(this).find(l).html(e+"/"+o),$(this).find(".carousel-item.active").find(n).append(t),$(this).find(".carousel-item.active").find(r).append(a)}),window.matchMedia("(max-width: 576px)").matches&&($(".carousel-banner").removeClass("media-side"),$(".carousel-banner").addClass("media-top"))}),function(t){var e=t(".js-slick-carousel");e.slick({dots:!0,arrows:!0,fade:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:300,adaptiveHeight:!0,autoplaySpeed:5e3,infinite:!0,responsive:[{breakpoint:1200,settings:{adaptiveHeight:!0}}]}),e.find(".js-carousel-pause").click(function(){e.find(".js-carousel-pause").hide(),e.find(".js-carousel-play").show(),e.slick("slickPause")}),e.find(".js-carousel-play").click(function(){e.find(".js-carousel-play").hide(),e.find(".js-carousel-pause").show(),e.slick("slickPlay")}),e.each(function(){var e=t(this);1===e.find(".slick-slide").length&&(e.find(".carousel-slide__controls").hide(),e.find(".slick-dots").hide())})}(window.jQuery),function(n){var i=document.getElementById("hero-video"),e=document.getElementById("body-video");n(".js-property-details__banner-container").on("init reInit afterChange",function(e,t,a,o){a=(a||0)+1;n(".js-property-details__slide-counter-container").html('<span class="slideCountItem">'+a+'</span> of  <span class="slideCountAll">'+t.slideCount+"</span>"),n(".slick-arrow").attr("data-trk",n(".property-details__details-container").attr("data-trk"))}),n(".js-property-details__banner-container").slick({dots:!1,arrows:!0,fade:!0,slidesToShow:1,slidesToScroll:1,speed:250,adaptiveHeight:!0,infinite:!0}),n(window).bind("load",function(){n(".js-property-details__banner-container .js-slide").children("img").each(function(e){n(this).animate({opacity:1},600),n(".slide--cover").animate({opacity:1},600)})}),n(".js-property-details__banner-container").on("afterChange",function(e,t,a,o){n("#hero-video").length&&(n(".js-property-details__banner-container iframe").each(function(){n(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"https://www.youtube.com/")}),$f(i).api("pause"))}),n.fn.isOnScreen=function(){var e=n(window),t={top:e.scrollTop(),left:e.scrollLeft()};t.right=t.left+e.width(),t.bottom=t.top+e.height();e=this.offset();return e.right=e.left+this.outerWidth(),e.bottom=e.top+this.outerHeight(),!(t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)},n(window).scroll(function(){n("#hero-video").length&&(n("#hero-video").isOnScreen()||($f(i).api("pause"),n(".js-property-details__banner-container iframe").each(function(){n(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"https://www.youtube.com/")}))),n("#body-video").length&&(n("#body-video").isOnScreen()||($f(e).api("pause"),n(".iframe-video iframe").each(function(){n(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"https://www.youtube.com/")})))})}(window.jQuery),function(l){var d=".consent-management",e=d+"__checkboxes",u=d+"__checkbox--subscription",f=d+"__uncheckall";l(e+" :checkbox").change(function(){l(f+" :checkbox").prop("checked",!1),l(this).parent("label").siblings("ul").find(":checkbox").prop("checked",this.checked),this.checked?l(this).parentsUntil(e,"ul").siblings("label").find(":checkbox").prop("checked",!0):l(this).parentsUntil(e,"ul").each(function(){var e=l(this);e.find(":checkbox:checked").length||e.prev("label").find(":checkbox").prop("checked",!1)})}),l(f+" :checkbox").on("change",function(){l(e+" :checkbox").prop("checked",!1)});function p(e){e.prop("disabled",!1).find(".fa-spinner").hide()}l(".consent-management__form").each(function(e,t){var a=l(t),o=l(d+"__submit"),n=l(d+"__error"),i=l(d+"__success"),r=l(d+"__intro"),s=l(d+"__thankyou"),c=l(d+"__country");a.validate({errorPlacement:function(e,t){e.appendTo(t.parent().parent())},submitHandler:function(){o.prop("disabled",!0).find(".fa-spinner").show(),n.hide(),i.hide(),l.ajax({type:"POST",url:a.attr("action"),dataType:"json",data:a.serialize(),success:function(e){setTimeout(function(){e.error?(n.show(),0==!e.message&&n.find(".consent-management__msg-copy").html("<p>"+e.message+"</p>")):(0<a.find(u).find(":checkbox:checked").length?a.find(u).find(":checkbox:not(:checked)").closest(".consent-management__checkbox").remove():(a.find(u).remove(),a.find(f).remove()),i.show(),r.hide(),s.show(),c.show()),p(o)},500)},error:function(){setTimeout(function(){n.show(),p(o)},500)}})}})})}(window.jQuery),function(o){o(".expert-card__form").each(function(e,t){o(t).validate({submitHandler:function(e){var t=o(e),a=o("#book-inspection__modal").length;o("form.expert-card__form").index(e);o('input[type="submit"]').addClass("disabled");e=o(e).find(".mtcaptcha")[0];return!0===mtcaptcha.getStatus(e.id).isVerified&&o.ajax({type:"POST",url:t.attr("action"),dataType:"json",data:t.serialize(),success:function(e){e.error?(t.find(".server-error").show(),0==!e.message&&(t.find(".server-error").text(e.message),o(".property-details__message").addClass("hasBanned"))):t.find(".contact-us-success").show(),o('input[type="submit"]').addClass("disabled")},error:function(){t.find(".server-error").show(),o('input[type="submit"]').removeClass("disabled")}}),!1}}),o(".property-details__message").on("blur keyup change",function(){o(this).hasClass("hasBanned")&&(o(this).closest(".expert-card__form").find(".server-error").hide(),o('input[type="submit"]').removeClass("disabled"))})})}(window.jQuery),function(r){function s(e){e.prop("disabled",!0)}function c(e){e.prop("disabled",!1)}function l(e){e.fadeIn(),r("html, body").animate({scrollTop:e.offset().top-80},200)}r(".contactus").each(function(e,t){var a=r(t),o=a.find('input[type="submit"]'),n=a.parent().find(".server-error"),i=a.parent().find(".contact-us-success");a.validate({errorPlacement:function(e,t){t.is("select")?e.prependTo(t.parent().parent()):e.prependTo(t.parent())},submitHandler:function(e){s(o),n.hide();e=r(e).find(".mtcaptcha")[0];return!0===mtcaptcha.getStatus(e.id).isVerified&&r.ajax({type:"POST",url:a.attr("action"),dataType:"json",data:a.serialize(),success:function(e){e.error?(l(n),console.log(e.message),0==!e.message&&n.text(e.message)):(a.hide(),i.show()),c(o)},error:function(){l(n),c(o)}}),!1}})}),r(".view-documents-contactus").each(function(e,t){var a=r(t),o=a.find('input[type="submit"]'),n=a.parent().find(".server-error");a.validate({errorPlacement:function(e,t){e.prependTo(t.parent())},submitHandler:function(e){s(o),n.hide();e=r(e).find(".mtcaptcha")[0];return!0===mtcaptcha.getStatus(e.id).isVerified&&r.ajax({type:"POST",url:a.attr("action"),dataType:"json",data:a.serialize(),success:function(e){var t;e.error?(l(n),console.log(e.message),0==!e.message&&n.text(e.message)):(t=r(".js-gated-documents__modal"),e=r(".js-contact-documents__modal"),t.removeClass("d-none"),e.addClass("d-none"),r("#colliers__modal").modal("hide"),setTimeout(function(){t.trigger("click")},500)),c(o)},error:function(){l(n),c(o)}}),!1}})}),r(".selectpicker").on("changed.bs.select",function(){var e=r(this);e.valid()?e.removeClass("error").addClass("valid"):e.removeClass("valid").addClass("error")}),r(document).on("click",".add-appointment",function(){r(".appointment:hidden").first().addClass("d-flex").show().find("input.datepicker").focus(),0===r(".appointment:hidden").length&&r(".add-appointment").hide()}),r(".contact__tooltip").each(function(){r(this).tooltip({template:'<div class="tooltip tooltip__consent" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})})}(window.jQuery),function(t){var a=t(".book-inspection__submit");t(".book-inpection__form").on("blur keyup change","input",function(){var e=t(".book-inpection__form").validate().checkForm();t(".book-inpection__form").validate().settings.ignore=".datepicker",e?(a.addClass("form-valid"),e=t(".book-inpection__form").find(".mtcaptcha")[0],!0===mtcaptcha.getStatus(e.id).isVerified&&a.addClass("validated")):(a.removeClass("form-valid"),a.removeClass("validated"))}),0<t('.book-inspection [data-toggle="modal"]').length&&t("#colliers__modal").attr("data-keyboard",!1)}(window.jQuery),function(t){var a=t("#CybotCookiebotDialog"),o="block"===a.css("display");t(document).on("click",".CybotCookiebotDialogBodyButton",function(){a.remove()}),t(document).ready(function(){var e;o&&t(".js-header-contain").css("top","0"),e=t(window).height()-a.height(),a.css("top",e)})}(window.jQuery),function(t){t("#body-wrapper").hasClass("allow-iframes")?(t('iframe[data-src][class*="optanon-category-"]').each(function(){var e=t(this).attr("data-src");t(this).prop("src",e).removeAttr("data-src").addClass("d-block")}),createVimeoPlayers(),createYoutubePlayers()):t('iframe[data-src][class*="optanon-category-"]').each(function(){var e=t(this).attr("data-placeholder-text");void 0===e&&(e="You must allow all cookies to view this content."),t(this).after('<div class="onetrust-placeholder"><p>'+e+'</p><button type="button" id="ot-sdk-btn" class="ot-sdk-show-settings btn btn__secondary onetrust-cookiesettings">Cookies Settings</button></div>')})}(window.jQuery),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.AreaRangeInput=COLLIERS.Coveo.AreaRangeInput||{init:function(e,t){var i,r,s,c,l,d,u,f,p,h,v,m,a,o,n,g=(n=$("#"+e)).find(".custom-facet__range-input__input-min"),y=n.find(".custom-facet__range-input__input-max"),e=n.closest(".CoveoSearchInterface");n.find(".js-facet-input").on("focus",function(){$(this).closest(".custom-facet__range-input__container").addClass("has-focus"),$(this).on("blur",function(){$(this).closest(".custom-facet__range-input__container").removeClass("has-focus")})}),i=n,r=g,s=y,c=e,$(c).on("afterComponentsInitialization",function(){var e=Coveo.state(c[0]);e.registerNewAttribute("f:"+i.attr("id")),e.registerNewAttribute("f:"+i.attr("id")+":uom")}),$(c).on("doneBuildingQuery",function(){var e=c[0],t=i.find(".custom-facet__range-input__apply"),a=i.find(".facet__tooltip");t.hide(),a.hide();var o=void 0,n=void 0,t=i.attr("id"),a=Coveo.state(e,"f:"+t);a&&(o=(a=a.split(".."))[0],n=a[1]),r.val(o),s.val(n);e=Coveo.state(e,"f:"+t+":uom"),t=i.find("div.custom-facet__area-input__uom-row input");e?(t.removeAttr("checked"),i.find('div.custom-facet__area-input__uom-row input[data-uom-abbreviation="'+e+'"]').prop("checked",!0)):(t.removeAttr("checked"),t.first().prop("checked",!0))}),d=g,u=y,f=e,p=(l=n).find(".custom-facet__range-input__apply"),h=l.find(".facet__tooltip"),$(p).on("click",function(e,t){p.hide(),h.hide();var a=f[0],o=d.val(),n=u.val(),i=+(o+""),r=+(n+"");i&&r&&r<i&&(c=o,o=n,n=c);var s=l.find(".custom-facet__area-input__uom-row").find("input:radio:checked").attr("data-uom-abbreviation"),c=l.attr("id");s&&Coveo.state(a,"f:"+c+":uom",s),i||r?(s="",s+=i?o:"",s+="..",s+=r?n:"",Coveo.state(a,"f:"+c,s)):(Coveo.state(a).setDefault("f:"+c),Coveo.state(a).setDefault("f:"+c+":uom"));c={name:"facetSelect",type:"facet"},n=function(e,t,a){var o=null,n=null;t&&(o=Number(t));a&&(n=Number(a));return{facetId:e.attr("id"),facetTitle:e.attr("data-title"),facetRangeStart:o,facetRangeEnd:n}}(l,o,n);Coveo.logSearchEvent(a,c,n),Coveo.executeQuery(a)}),v=n,m=e,$(m).on("buildingQuery",function(e,t){var a=m[0],o=void 0,n=void 0,i=v.attr("id"),r=Coveo.state(a,"f:"+i);r&&(o=(r=r.split(".."))[0],n=r[1],i=Coveo.state(a,"f:"+i+":uom"),(i=v.find('input[data-uom-abbreviation="'+i+'"]').val())&&(o*=i,n*=i),(n=function(e,t,a){var o=[],n=[],i=null,r=null;t&&(_.each(e,function(e){o=o.concat(e+">="+t)}),0<o.length&&(i=o.join(" OR ")));a&&(_.each(e,function(e){n=n.concat(e+"<="+a)}),0<n.length&&(r=n.join(" OR ")));if(t&&a){if(i&&r){e=new Coveo.ExpressionBuilder;return e.add(i),e.add(r),e.build()}return null}if(t)return i;if(a)return r;return null}(v.attr("data-fields").split(","),o,n))&&t.queryBuilder.advancedExpression.add(n))}),g=g,y=y,a=(n=n).find(".custom-facet__range-input__apply"),o=n.find(".facet__tooltip"),g.on("change keyup paste",function(){a.show(),o.show()}),y.on("change keyup paste",function(){a.show(),o.show()}),n.find("div.custom-facet__area-input__uom-row input").on("change",function(){a.show(),o.show()}),$('[data-toggle="facet-tooltip"]').tooltip({template:'<div class="tooltip tooltip__facet" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})}},COLLIERS.BooleanFacet={init:function(e){var r,s,c,t=$("#"+e),a=t.closest(".CoveoSearchInterface");"1"===t.attr("data-exclusive-or")&&(r=a,c={lastStateKey:"last-"+(s=e),stateKey:"f:"+s,stateChanged:"state:change:f:"+s},$(r).on("afterComponentsInitialization",function(){$(r).on("search:reset",function(e,t){r.data(c.lastStateKey,"")}),$(r).on("newQuery",function(e,t){var a=r.data(c.lastStateKey);0!==Coveo.state(r[0]).get(c.stateKey).length||""!==a&&void 0!==a||(Coveo.state(r[0]).set(c.stateKey,["0"],{silent:!0}),r.data(c.lastStateKey,"0"),$("#"+s)[0].CoveoFacet.selectValue("0"))}),$(r).on(c.stateChanged,function(e,t){var a=$("#"+s).attr("data-default-option"),o=Coveo.state(r[0]).get(c.stateKey),n=r.data(c.lastStateKey),i=$("#"+s)[0].CoveoFacet;if(void 0===n||""===n)return n=0<o.length?o[0]:a,r.data(c.lastStateKey,n),Coveo.state(r[0]).set(c.stateKey,[n],{silent:!0}),i.reset(),void i.selectValue(n);"0"===n?(r.data(c.lastStateKey,"1"),Coveo.state(r[0]).set(c.stateKey,["1"],{silent:!0})):"1"===n&&(r.data(c.lastStateKey,"0"),Coveo.state(r[0]).set(c.stateKey,["0"],{silent:!0})),1<i.getSelectedValues().length&&i.deselectValue(n),i.selectValue(Coveo.state(r[0]).get(c.stateKey))})}))}},(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.CustomFacetDropdown=function(){function f(e){return 13===e.which||32===e.which||"click"===e.type}function p(e,t){if(e.length>t){var a=e.substr(0,t);return a+"... (+"+((e.substr(a.length,e.length-t).match(/[^, ][^ ],/g)||[]).length+1)+")"}return e}return{init:function(d){var t,e,a,u=$(d).closest(".CoveoSearchInterface");0<u.length&&(t=d,e=u,(a=$(t).attr("data-preselected-facet-value"))&&$(e).on("afterInitialization",function(){var e=$(t).coveo();e&&0==e.getSelectedValues().length&&e.selectValue(a)}),$(u).on("afterComponentsInitialization",function(){setInterval(function(){!function(e){if("true"!==$(e).attr("data-single-select")){var t=$(e).closest(".CoveoSearchInterface");if(0===$(t).find(".coveo-facet-search-results li").length?$(t).find(".coveo-facet-search-results").css("display","none"):$(t).find(".coveo-facet-search-results").css("display","block"),"true"===$(e).attr("data-show-facet-value-counts"))return function(e){$(e+".custom-facet__dropdown .coveo-facet-value").each(function(e,t){var a=$(this).find(".coveo-facet-value-count"),o=a.length?a.text():0,a=$(this).find(".coveo-facet-value-caption");a.text().endsWith(" ("+o+")")||a.text(a.text()+" ("+o+")")})}(e)}}(d)},500);$(".custom-facet__dropdown").removeClass("open"),$(u).on("search:reset",function(e,t){"true"===$(d).attr("data-single-select")&&$(d+".custom-facet__dropdown").attr("data-last-value","")}),$(window).on("click touchstart",function(e){var t=!$(e.target).closest(".coveo-facet-value").length;!$(e.target).closest(".custom-facet__dropdown").length&&t&&($(".custom-facet__dropdown").removeClass("open"),$(".coveo-facet-header-title").attr("aria-expanded","false"),$(".coveo-facet-more").attr("aria-expanded","false"))}),$(u).on("state:change:f:"+d.substr(1),function(e,t){var a,o,n="f:"+d.substr(1);"true"===$(d).attr("data-single-select")&&(a=jQuery.Event("singleSelectFacetChanged:"+d.substr(1)),o=Coveo.state(u[0]).get(n),a.lastVal=$(d+".custom-facet__dropdown").attr("data-last-value"),o&&0<o.length&&(a.currVal=Coveo.state(u[0]).get(n)[0]),1<o.length?a.lastVal?(Coveo.state(u[0]).set(n,_.without(o,a.lastVal)),a.deselectedLastValue=!0,a.currVal=Coveo.state(u[0]).get(n)[0],Coveo.get($(document).find(d)[0]).deselectValue(a.lastVal),$(d+".custom-facet__dropdown").attr("data-last-value",a.currVal)):(Coveo.state(u[0]).set(n,_.without(o,o.slice(1))),currFacet.deselectMultipleValues(o.slice(1)),$(d+".custom-facet__dropdown").attr("data-last-value",Coveo.state(u[0]).get(n))):1===o.length&&$(d+".custom-facet__dropdown").attr("data-last-value",o[0]),$(u).trigger(a),setTimeout(function(){$(document.activeElement).blur(),window.scrollTo(0,0)}))}),$(u).on("deferredQuerySuccess",function(e,t){var a=$(d+".custom-facet__dropdown");a.removeClass("open"),function(e,t){var a,o=$(t+".custom-facet__dropdown").data("title"),n=t.substring(1);"false"===$(t+".custom-facet__dropdown").attr("data-init")&&($('<label class="coveo-dropdown-label">'+o+"</label>").prependTo(t+".custom-facet__dropdown"),$(t).find(".coveo-facet-search-clear").attr({tabindex:"0",role:"button","aria-label":$(t).data("label-clear")}),a=0<$(t).find(".coveo-facet-search-input").length?($(t).find(".coveo-dropdown-label").attr("for",n+"-input"),$(t).find(".coveo-facet-search-input").attr({id:n+"-input","aria-label":$(t).find(".coveo-dropdown-label").text()}),$(t).find(".coveo-facet-search-input").attr("id")):($(t).find(".coveo-facet-header-title").attr("id",n+"-title"),$(t).find(".coveo-facet-header-title").attr("id")),$('<div class="coveo-facet-more coveo-active dropdown-caret" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false"><span class="coveo-icon" aria-hidden="true"></span></div>').appendTo(t+".custom-facet__dropdown .coveo-facet-header-title-section"),$(t+".custom-facet__dropdown").attr("data-init","true"),$(t+".custom-facet__dropdown .coveo-facet-values").attr("aria-labelledby",a),1===(s=$(t+".custom-facet__dropdown .coveo-selected")).length&&$(t+".custom-facet__dropdown").attr("data-last-value",s.data("value")),$(t+" .coveo-facet-search-input").focus(function(){$(t+".custom-facet__dropdown").append($(e).find(".coveo-facet-search-results").detach()),$(t+".custom-facet__dropdown .coveo-facet-search-results").attr("aria-labelledby",a),$(".custom-facet__dropdown").removeClass("open closed")}).blur(function(){$(".custom-facet__dropdown").addClass("closed")}),$(t+" .coveo-facet-search-input").keydown(function(){0===$(e).find(".coveo-facet-search-results li").length?$(e).find(".coveo-facet-search-results").css("display","none"):$(e).find(".coveo-facet-search-results").css("display","block")}),$(t+" .coveo-facet-search-input").focus(function(){$(t+".custom-facet__dropdown").append($(e).find(".coveo-facet-search-results").detach())}));var i=$(t+".custom-facet__dropdown").data("label-expand"),r=$(t+".custom-facet__dropdown").data("label-collapse");$(t+".custom-facet__dropdown .coveo-facet-header").find(".coveo-facet-more").attr("aria-label",i);var n=$(t+".custom-facet__dropdown .coveo-facet-values .coveo-facet-value"),s=$(t+".custom-facet__dropdown .coveo-facet-header");s.off(),0<n.length&&s.on("keydown click",function(e){f(e)&&($(this).find(".coveo-facet-header-title").attr("aria-expanded",function(e,t){return"true"==t?"false":"true"}),$(this).find(".coveo-facet-more").attr({"aria-expanded":function(e,t){return"true"==t?"false":"true"},"aria-label":function(e,t){return t==i?r:i}}),e=$(t).hasClass("open"),$(".custom-facet__dropdown").removeClass("open"),e||$(t).addClass("open"))})}(u,d);var o=function(e){var a=$(e+".custom-facet__dropdown .coveo-selected"),o=$(e+".custom-facet__dropdown").attr("data-title");0<a.length&&(o="",a.find(".coveo-facet-value-caption").each(function(e,t){o+=$(this).attr("title"),e<a.length-1&&(o+=", ")}));return o}(d),n=window.matchMedia("(max-width: 767px)"),i=$(d+".custom-facet__dropdown .coveo-selected").length,r=$(d).find(".coveo-dropdown-label"),s=$(d).attr("data-title");n.matches&&0<i?$(r).text(s+" ["+i+"]"):$(r).text(s);var c=$(d+".custom-facet__dropdown .coveo-facet-header-title");c.attr({title:o,role:"button",tabindex:"0","aria-haspopup":"true","aria-expanded":"false"}),"true"===$(d).attr("data-enable-facet-search")&&c.css("display","none");s=a.find(".coveo-facet-values").find("input:checked");function l(){0<$(".search__main-container.expert-search").length&&(window.matchMedia("(min-width: 1700px)").matches?c.text(p(o,27)):window.matchMedia("(min-width: 1400px)").matches?c.text(p(o,20)):window.matchMedia("(min-width: 1200px)").matches&&c.text(p(o,13)))}$(d+" .coveo-facet-search-input").attr("placeholder",o).toggleClass("white-placeholder",!!s.length),c.text(p(o,27)),l(),$(window).on("resize",function(){l()}),$(d+".custom-facet__dropdown .coveo-facet-value-label").on("keydown click",function(e){f(e)&&$(d).removeClass("open")}),a.find(".coveo-facet-values .coveo-facet-value").length<=0&&(s=$(d+" .coveo-facet-header-title",$(u)),a=$(d).data("label-empty-results"),s.text(a))})}))}}}(),COLLIERS.CustomFacetSearchbox={init:function(e){var t,a,o,n;0<(n=$(e).closest(".CoveoSearchInterface")).length&&(o=e,$(n).on("afterInitialization",function(){var e=$(o).coveo();e&&e.searchbox&&null!==e.searchbox.getInput()&&e.searchbox.getInput().removeAttribute("title")}),t=e,n=n,(a=$(t).attr("data-preselected-facet-value"))&&$(n).on("afterInitialization",function(){var e=$(t).coveo();e&&e.searchbox&&0==e.searchbox.getText().length&&e.searchbox.setText(a)}))}},COLLIERS.CustomGlobalSearchbox={init:function(e){var t,a=$(e+"_container");0<a.length&&(t=e,$(a).on("afterInitialization",function(){var e=$(t).coveo();e&&e.searchbox&&null!==e.searchbox.getInput()&&e.searchbox.getInput().removeAttribute("title")}))}},document.addEventListener("DOMContentLoaded",function(){Coveo.TemplateHelpers.registerFieldHelper("colliersDate",function(e,t){return e?(e=e.replace("@"," ").replace("Z",""),Coveo.DateUtils.dateToString(Coveo.DateUtils.convertFromJsonDateIfNeeded(e),t)):""})}),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.ExpertSearchResults=COLLIERS.Coveo.ExpertSearchResults||function(){var a="",o="",n="",i="";return{init:function(e){e=$("#"+e),a=e.attr("data-region-languages"),o=e.attr("data-language-fieldname"),n=e.attr("data-expertranking-fieldname"),i=e.attr("data-current-region"),$(document.body).on("buildingQuery",function(e,t){!function(e){{var t;a&&o&&n&&(t=e.queryBuilder.advancedExpression,e=a.split(","),t.addFieldExpression(o,"==",e),t.addFieldExpression(n,"=",[i]))}}(t)})}}}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.FacetRangeInput=COLLIERS.Coveo.FacetRangeInput||{init:function(e){var n,i,r,s,l,d,u,f,p,h,c,v,t,a,o,m=(o=$("#"+e)).find(".custom-facet__range-input__input-min"),g=o.find(".custom-facet__range-input__input-max"),e=o.closest(".CoveoSearchInterface");n=o,i=m,r=g,s=e,$(s).on("afterComponentsInitialization",function(){Coveo.state(s[0]).registerNewAttribute("f:"+n.attr("id"))}),$(s).on("doneBuildingQuery",function(){var e=s[0],t=n.find(".custom-facet__range-input__apply"),a=n.find(".facet__tooltip");t.hide(),a.hide();var o=void 0,t=void 0,a=n.attr("id"),a=Coveo.state(e,"f:"+a);a&&(o=(a=a.split(".."))[0],t=a[1]),i.val(o),r.val(t)}),d=m,u=g,f=e,p=(l=o).find(".custom-facet__range-input__apply"),h=l.find(".facet__tooltip"),$(p).on("click",function(e,t){p.hide(),h.hide();var a=f[0],o=d.val(),n=u.val(),i=+(o+""),r=+(n+"");i&&r&&r<i&&(s=o,o=n,n=s);var s,c=l.attr("id");i||r?(s="",s+=i?o:"",s+="..",s+=r?n:"",Coveo.state(a,"f:"+c,s)):Coveo.state(a).setDefault("f:"+c);c={name:"facetSelect",type:"facet"},n=function(e,t,a){var o=null,n=null;t&&(o=Number(t));a&&(n=Number(a));return{facetId:e.attr("id"),facetTitle:e.attr("data-title"),facetRangeStart:o,facetRangeEnd:n}}(l,o,n);Coveo.logSearchEvent(a,c,n),Coveo.executeQuery(a)}),c=o,v=e,$(v).on("buildingQuery",function(e,t){var a=v[0],o=void 0,n=void 0,i=c.attr("id"),i=Coveo.state(a,"f:"+i);i&&(o=(i=i.split(".."))[0],n=i[1],(n=function(e,t,a,o,n){a=function(e,t,a){var o=[],n=[],i=null,r=null;t&&(_.each(e,function(e){o=o.concat(e+">="+t)}),0<o.length&&(i=o.join(" OR ")));a&&(_.each(e,function(e){n=n.concat(e+"<="+a)}),0<n.length&&(r=n.join(" OR ")));if(t&&a){if(i&&r){e=new Coveo.ExpressionBuilder;return e.add(i),e.add(r),e.build()}return null}if(t)return i;if(a)return r;return null}(e,t,a);if(a&&o&&"1"!=n){n=o+"==0",o=new Coveo.ExpressionBuilder;return o.add(n),o.add(a),o.build()}return a}(c.attr("data-fields").split(","),o,n,c.attr("data-hidden-price-field"),c.attr("data-include-hidden-prices")))&&t.queryBuilder.advancedExpression.add(n))}),o.find(".js-facet-input").on("focus",function(){$(this).closest(".custom-facet__range-input__container").addClass("has-focus"),$(this).on("blur",function(){$(this).closest(".custom-facet__range-input__container").removeClass("has-focus")})}),m=m,g=g,t=(o=o).find(".custom-facet__range-input__apply"),a=o.find(".facet__tooltip"),m.on("change keyup paste",function(){t.show(),a.show()}),g.on("change keyup paste",function(){t.show(),a.show()})}},(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.GenericSearchResults=COLLIERS.Coveo.GenericSearchResults||function(){var n="",i="",r="",s="";return{init:function(e){(e=$("#"+e)).closest(".CoveoSearchInterface"),n=e.attr("data-region-languages"),i=e.attr("data-language-fieldname"),r=e.attr("data-showinparentregion-fieldname"),s=e.attr("data-region-current-language"),e.on("afterComponentsInitialization",function(){$(document.body).on("duringQuery",function(e,t){COLLIERS.Subscriptions&&(e=$(e.target).coveo(Coveo.QueryController).getEndpoint(),COLLIERS.Subscriptions.QueryEventData=t,COLLIERS.Subscriptions.QueryStringArguments=e.getViewAsHtmlUri())})}),$(document.body).on("buildingQuery",function(e,t){!function(e){{var t,a,o;n&&i&&r&&(t=e.queryBuilder.advancedExpression,a=n.split(","),e="",s&&((o=new Coveo.ExpressionBuilder).addFieldExpression(i,"==",[s]),e+=o.build()),a&&0<a.length&&((o=new Coveo.ExpressionBuilder).addFieldExpression(i,"==",a),o.addFieldExpression(r,"==",["1"]),e&&(e+=" OR "),e+="("+o.build()+")"),e&&t.add(e))}}(t)})}}}(),function(o){function t(e){return 13===e.which||32===e.which||"click"===e.type}o(document).on("keydown click",".magic-box-clear",function(e){t(e)&&o(".coveo-searchbox-wrapper .CoveoSearchButton").trigger("click")}),o(document).on("keydown click",".js-show-phone",function(e){t(e)&&o(this).addClass("show")}),o(window).bind("load",function(){var e=o(".search__basic-search-facets-container"),t=o(".search__main-container .coveo-results-header"),a=e.find(".custom-facet").length;0==a?(e.addClass("one-facet container"),t.addClass("container")):1==a?(e.addClass("two-facets container"),t.addClass("container")):2==a?e.addClass("three-facets"):3==a?e.addClass("four-facets"):4==a?e.addClass("five-facets"):5==a&&e.addClass("six-facets")})}(window.jQuery),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.LocationAutocomplete=COLLIERS.Coveo.LocationAutocomplete||function(){const p="mapBounds";var h="",v="",m="",g="",y=!1,w=!1;function C(e,t,a){var o=t[0],t=e.attr("id");a?Coveo.state(o,"f:"+t,a):Coveo.state(o).setDefault("f:"+t),Coveo.state(o,p)&&Coveo.state(o,p,null);t={name:"facetSelect",type:"facet"},a=a,a={facetId:(e=e).attr("id"),facetTitle:e.attr("data-title"),facetValue:a};Coveo.logSearchEvent(o,t,a),Coveo.executeQuery(o)}return jQuery.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())},{init:function(e){var a,o,n,i,s,c,r,l,d,u,t=$("#"+e),f=t.closest(".CoveoSearchInterface");h=t.attr("data-region-languages"),v=t.attr("data-language"),m=t.attr("data-language-fieldname"),g=t.attr("data-latestversion-fieldname"),t.attr("data-sortby-occurrences")&&(y=!0),t.attr("data-show-facet-value-count")&&(w=!0),Coveo.SearchEndpoint.endpoints.locationAutocomplete=new Coveo.SearchEndpoint({restUri:CoveoForSitecore.Context.element.getAttribute("data-sc-rest-endpoint-uri")}),a=t,o=f,$(o).on("afterComponentsInitialization",function(){var e=Coveo.state(o[0]),t=a.attr("id");e.registerNewAttribute("f:"+t)}),n=t,i=f,$(i).on("afterInitialization",function(){var e=n.attr("data-preselected-facet-value"),t=n.attr("id");e&&(Coveo.state(i[0],"f:"+t)||(Coveo.state(i[0],"f:"+t,e),n.val(e),$(".coveo-location-facet-value-remove").show())),setTimeout(function(){$(document.activeElement).blur(),window.scrollTo(0,0)})}),c=f,(s=t).autocomplete({minLength:2,select:function(e,t){C(s,c,t.item.value)},source:function(e,t){var a,o,n,i,r;a=s,o=c,e=e,n=t,t=Coveo.SearchEndpoint.endpoints.locationAutocomplete,i=e.term,e="("+m+"=="+(h?"("+h+")":'"'+v+'"')+") ("+g+"==1)"+function(e){e=$(".CoveoForSitecoreContext",e);return 1===e.length?' (@source=="'+e.attr("data-sc-index-source-name")+'")':""}(o),o=function(e){var t=$(".CoveoForSitecoreFilterExpression",e);if(1!==t.length)return"";e=t.attr("data-sc-filter-scope-node"),e=JSON.parse(e),e=t.get(0).CoveoForSitecoreFilterExpression.queryFilterNodeResolver.parseQueryFilterNode(e).build();return e?e.aq:""}(o),e={field:a.attr("data-field"),queryOverride:o,constantQueryOverride:e,maximumNumberOfValues:100,sortCriteria:"occurences",pattern:"*"+i+"*",patternType:"Wildcards"},r=new Intl.Collator(v,{usage:"sort",sensitivity:"base",ignorePunctuation:!1}),t.listFieldValues(e).done(function(e){y||e.sort(function(e,t){return r.compare(e.value,t.value)});var t=[];_.each(e,function(e){t.push({label:e.value.replace(new RegExp(i,"gi"),function(e){return"<span class='location-ui-autocomplete-term'>"+e+"</span>"})+(w?" ("+e.numberOfResults+")":""),value:e.value})}),n(t)})}}).data("ui-autocomplete")._renderItem=function(e,t){return $("<li></li>").data("item.autocomplete",t.value).append("<div>"+t.label+"</div>").appendTo(e)},r=t,l=f,$(l).on("buildingQuery",function(e,t){var a,o=l[0];Coveo.state(o,p)||(a=r.attr("id"),(a=Coveo.state(o,"f:"+a))&&t.queryBuilder.advancedExpression.addFieldExpression(r.attr("data-field"),"==",[a]))}),d=t,u=f,$(u).on("doneBuildingQuery",function(){var e=u[0],t=d.attr("id"),t=Coveo.state(e,"f:"+t);d.val(t),t&&0<t.length?$(".coveo-location-facet-value-remove").show():$(".coveo-location-facet-value-remove").hide()}),$(window).scroll(function(){$(".ui-autocomplete").hide()}),$(".coveo-location-facet-value-remove").on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||C(t,f,void 0)})}}}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.PropertySearchResults=COLLIERS.Coveo.PropertySearchResults||function(){var v="mapBounds",m="",g="",y="",w="",C=!0,b=!1;function x(e){"sale"==e?($(".property-search__advanced-search-facets-container .message").hide(),$(".memberof-sale-facets-container").show(),$(".memberof-lease-facets-container").hide(),$(".memberof-residential-sale-facets-container").show(),$(".memberof-residential-rent-facets-container").hide(),$(".memberof-residential-hide-for-rent-facets-container").show()):"lease"==e?($(".property-search__advanced-search-facets-container .message").hide(),$(".memberof-sale-facets-container").hide(),$(".memberof-lease-facets-container").show(),$(".memberof-residential-sale-facets-container").hide(),$(".memberof-residential-rent-facets-container").hide(),$(".memberof-residential-hide-for-rent-facets-container").hide()):"rent"==e?($(".property-search__advanced-search-facets-container .message").hide(),$(".memberof-sale-facets-container").hide(),$(".memberof-lease-facets-container").hide(),$(".memberof-residential-sale-facets-container").hide(),$(".memberof-residential-rent-facets-container").show(),$(".memberof-residential-hide-for-rent-facets-container").hide()):($(".property-search__advanced-search-facets-container .message").show(),$(".memberof-sale-facets-container").hide(),$(".memberof-lease-facets-container").hide(),$(".memberof-residential-sale-facets-container").hide(),$(".memberof-residential-rent-facets-container").hide(),$(".memberof-residential-hide-for-rent-facets-container").show())}function S(e){var t=$("#"+e.attr("data-listing-type-facet-id")).coveo();t&&0==t.getSelectedValues().length&&t.selectValue(e.attr("data-listing-type-all"))}return{init:function(e){var t,a,o,n,i,r,s,c,l,d,u,f,p=$("#"+e),h=p.closest(".CoveoSearchInterface");b=p.data("is-residential"),m=p.attr("data-region-languages"),g=p.attr("data-language-fieldname"),y=p.attr("data-portfolio-id"),w=p.attr("data-portfolios-fieldname"),function(e){var t=window.location.hash;{var a;t&&/fp=/g.test(t)&&((a=t.replace(/.*fp(=|%3d)([^&]*).*/gim,"$2").trim())&&$(e).on("newResultsDisplayed",function(){!function(e){e=$('.teaser-card__favorite[data-property-id="'+e+'"]');e&&e.length&&!e.is(".favorite-icon-selected")&&!e.is(".favorite-login-required")&&e[0].click()}(a)}))}}(p),l=h,t=(e=p).find(".property-search__advanced-search-toggle"),a=e.find(".property-search__advanced-search-facets-container"),o=l[0],l=window.matchMedia("(min-width: 1200px)"),t.on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||($(this).toggleClass("expanded"),$(this).hasClass("expanded")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false"),a.toggleClass("show"),a.hasClass("show")?Coveo.state(o,"advancedSearch",!0):Coveo.state(o).setDefault("advancedSearch"))}),l.matches&&$(window).scroll(function(){200<$(this).scrollTop()&&(t.removeClass("expanded").attr("aria-expanded","false"),a.removeClass("show"))}),l=(n=p).find("button.property-search__button-reset, button.property-search__button-clearfilters"),$(l).on("click",function(){var e,t;t=(e=n)[0],$(e).trigger(jQuery.Event("search:reset")),Coveo.state(t).reset(),S(e),Coveo.executeQuery(t)}),i=p,$(i).on("afterInitialization",function(){S(i)}),r=p,$(r).on("afterComponentsInitialization",function(){var a,o;a="#property-search-map",$(a).trigger("propertyMap.afterComponentsInitialization"),$(document.body).on("buildingQuery",function(e,t){!function(e){{var t;m&&g&&(t=e.queryBuilder.advancedExpression,e=m.split(","),t.addFieldExpression(g,"==",e))}}(t),$(a).trigger("propertyMap.buildingQuery",t)}),$(document.body).on("doneBuildingQuery",function(e,t){$(a).trigger("propertyMap.doneBuildingQuery",t)}),$(document.body).on("querySuccess",function(e,t){$(a).trigger("propertyMap.querySuccess",t)}),$(document.body).on("deferredQuerySuccess",function(e,t){$(a).trigger("propertyMap.deferredQuerySuccess",t),y&&w&&(clearTimeout(o),o=setTimeout(function(){!function(){var e=$(".portfolios-property-search__results-container").offset().top,t=$(".CoveoResultList").outerHeight(),a=$(".portfolios-property-search__map-container").outerHeight();0<$(".coveo-pager-list-item").length&&$(".portfolios-property-search__map-container").addClass("hasPager");$(window).scroll(function(){$(window).scrollTop()>=e-60?$(".portfolios-property-search__map-container").addClass("fixed"):$(".portfolios-property-search__map-container").removeClass("fixed"),$(window).scrollTop()>=e-60+(t-a)-70?($(".portfolios-property-search__map-container").addClass("absolute-bottom"),$(".portfolios-property-search__map-container").removeClass("fixed"),"block"===$(".coveo-show-if-no-results").css("display")?($(".portfolios-property-search__map-container").addClass("no-result-absolute"),$(".portfolios-property-search__map-container").removeClass("absolute-bottom")):($(".portfolios-property-search__map-container").removeClass("no-result-absolute"),$(".portfolios-property-search__map-container").addClass("absolute-bottom"))):($(".portfolios-property-search__map-container").removeClass("absolute-bottom"),$(".portfolios-property-search__map-container").removeClass("no-result-absolute"))})}()},1e3))}),$(document.body).on("duringQuery",function(e,t){COLLIERS.Subscriptions&&(e=$(e.target).coveo(Coveo.QueryController).getEndpoint(),COLLIERS.Subscriptions.QueryEventData=t,COLLIERS.Subscriptions.QueryStringArguments=e.getViewAsHtmlUri())}),$(r).on("singleSelectFacetChanged:"+r.attr("data-listing-type-facet-id"),function(e,t){var a=""===e.currVal?n.all:e.currVal,o=""===e.lastVal?n.all:e.lastVal;e.deselectedLastValue&&a!==o&&function(e){var a=e[0],t=Coveo.state(a).attributes,o={};o.sort=t.sort,o.q=t.q;var n=["listingtype","location","propertytype",v],i=e.attr("data-facet-ids-to-preserve");i&&(n=i.split(","));_.each(n,function(e){e="f:"+e;t[e]&&(o[e]=t[e])}),t[v]&&(o[v]=t[v]);$(e).trigger(jQuery.Event("search:reset")),Coveo.state(a).reset(),_.each(o,function(e,t){Coveo.state(a,t,e)})}(r)});var n={all:r.attr("data-listing-type-all"),sale:r.attr("data-listing-type-sale"),lease:r.attr("data-listing-type-lease"),rent:r.attr("data-listing-type-rent"),sublease:r.attr("data-listing-type-sublease")};$(r).on("deferredQuerySuccess",function(e,t){var a;$(".coveo-list-layout:not(:has(*))").remove(),setupTeaserCardOnCurrentPage.run(),y&&w?C||(a=$(".js-header").height(),o=$(".portfolios-property-search__facets-container").outerHeight(),o=$(".portfolios-property-search__results-container").offset().top-a-o,$("html, body").animate({scrollTop:o},300)):scrollToTopSmooth.run();var o=r.data("listing-type-facet-id");if(o){o=$("#"+o);if(0<o.length){o=o[0].CoveoFacet.getSelectedValues();if(0<o.length)if(function(e,t){{if(e==t.sale)return x("sale"),!0;if(e==t.lease||!b&&e==t.sublease)return x("lease"),!0;if(e==t.rent||b&&e==t.sublease)return x("rent"),!0}return!1}(o[0],n))return}}x(""),C=!1})}),s=p,c=(l=h)[0],$(s).on("afterComponentsInitialization",function(){Coveo.state(c).registerNewAttribute("advancedSearch")}),$(l).on("afterInitialization",function(){var e=s.find(".property-search__advanced-search-toggle"),t=s.find(".property-search__advanced-search-facets-container");Coveo.state(c,"advancedSearch")&&(e.toggleClass("expanded"),t.toggleClass("show"))}),l=p,$(l).on("beforeInitialization",function(e){var n=$(".property-search__advanced-search-facets-container",e);0<n.length&&(e=$(">div[class*='facets-container']",n),$.each(e,function(e){var t=$(this),a=t.children("div"),o="memberof-"+t.attr("class");$.each(a,function(e){var t=$(this);t.addClass(o),n.prepend(t)})}))}(l)),$(l).on("beforeInitialization",function(e){var n=$(".property-search__basic-search-facets-container--secondrow",e);0<n.length&&(e=$(">div[class*='facets-container']",n),$.each(e,function(e){var t=$(this),a=t.children("div"),o="memberof-"+t.attr("class");$.each(a,function(e){var t=$(this);t.addClass(o),n.append(t)})}))}(l)),l=p,0<$(".property-search__basic-search-facets-container--secondrow > div[class*='custom-facet']").length&&l.addClass("double-searchrows"),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-200?($(".property-search__map-container").addClass("absolute-bottom"),"block"===$(".coveo-show-if-no-results").css("display")?$(".property-search__map-container").addClass("no-result-absolute"):$(".property-search__map-container").removeClass("no-result-absolute")):($(".property-search__map-container").removeClass("absolute-bottom"),$(".property-search__map-container").removeClass("no-result-absolute"))}),d=p,u=h[0],$(d).on("afterInitialization",function(){d.on("state:change:q",function(){Coveo.state(u,v)&&Coveo.state(u,v,null)})}),f=p,$(f).on("querySuccess",function(e,t){t=t.results&&0<t.results.totalCount;$(".coveo-results-header",f).toggleClass("coveo-no-results-ex",!t)}),y&&w&&$(document.body).on("buildingQuery",function(e,t){t=t,y&&w&&t.queryBuilder.advancedExpression.addFieldExpression(w,"*=",[y])})}}}(),(COLLIERS=COLLIERS||{}).Coveo=COLLIERS.Coveo||{},COLLIERS.Coveo.SearchStandaloneFiltersContainer=COLLIERS.Coveo.SearchStandaloneFiltersContainer||function(){var n=!1,a="",o="",i="",r="";function s(e){var t=$(".CoveoForSitecoreFilterExpression",e);if(1!==t.length)return"";e=t.attr("data-sc-filter-scope-node"),e=JSON.parse(e),e=t.get(0).CoveoForSitecoreFilterExpression.queryFilterNodeResolver.parseQueryFilterNode(e).build();return e?e.aq:""}function c(e){var t=e.queryBuilder.advancedExpression;a&&o&&(e=a.split(","),t.addFieldExpression(o,"==",e)),i&&r&&t.addFieldExpression(i,"=",[r])}return{init:function(e){var t=$("#"+e),e=t.closest(".CoveoSearchInterface");a=t.attr("data-region-languages"),o=t.attr("data-language-fieldname"),i=t.attr("data-expertranking-fieldname"),r=t.attr("data-current-region"),e.find(".CoveoFacet").attr("data-use-and","true"),e.find(".CoveoFacet.custom-facet__dropdown").attr("data-show-facet-value-counts","false"),function(e,o){var t=o[0];e.find(".js-search-standalone-filters__search-button").on("click",function(){n=!0,Coveo.executeQuery(t)}),o.on("afterComponentsInitialization",function(e,t){o.on("buildingQuery",function(e,t){var a=s(o);t.queryBuilder.advancedExpression.parts.length=0,t.queryBuilder.advancedExpression.add(a),c(t)}),o.on("duringFetchMoreQuery",function(e,t){var a=s(o);t.queryBuilder.advancedExpression.parts.length=0,t.queryBuilder.advancedExpression.add(a),c(t)})});var a=e.attr("data-default-keywords-text");a&&o.on("afterInitialization",function(){var e,t=o.find(".CoveoOmnibox");t&&0<t.length?(e=$(t).coveo())&&(e.getText()||e.setText(a)):(e=o.find(".CoveoSearchbox"))&&0<e.length&&((e=$(e).coveo())&&(e.getText()||e.setText(a)))});o.on("querySuccess",function(e,t){var a;n&&(t.cancel=!0,a=document.location.hash,(t=o.attr("data-target-page"))?document.location.href=t+a:console.log("warning: no target page defined"))})}(t,e),function(){var e=".search-standalone-filters__facets-flex-box",t=e+" input[type=text].ui-autocomplete-input",a=e+" .coveo-location-facet-value-remove",o="ui-autocomplete-input-clear_visible";$(a).is(":visible")&&$(t).addClass(o);$(t).on("change paste keyup",function(){var e=$(this);$(a).css("display","block")?e.addClass(o):e.removeClass(o)}),$(a).on("keydown click",function(e){13!==(e=e).which&&32!==e.which&&"click"!==e.type||$(t).removeClass(o)})}()}}}(),function(t){var e;!(e=t(".cross-promotion-container")).length||(e=e.data("url"))&&t.ajax({type:"GET",url:e,dataType:"json",success:function(e){e&&(t(".cross-promotion-content").html(e),t(".cross-promotion-container").removeClass("d-none"),t(".cross-promotion").slideDown(300))},error:function(e){console.log(e)}})}(window.jQuery),function(a){var e,o;isSitecorePageEditor()||(e=a(".js-expert-carousel-slider-v4.auto"),o=".expert-carousel__controls",e.each(function(){var e=a(this).attr("id"),t=a(this);a(this).slick({dots:!0,appendDots:a(this).parent().find(o),arrows:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,autoplaySpeed:3e3,speed:1e3,responsive:[{breakpoint:1200,settings:{speed:300,slidesToShow:3,slidesToScroll:3,autoplay:!1}},{breakpoint:992,settings:{speed:300,slidesToShow:2,slidesToScroll:1,autoplay:!1}},{breakpoint:768,settings:{speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!1}}]}),a("#"+e).next(o).find(".js-carousel-pause").click(function(){a(this).hide(),a(this).parent().find(".js-carousel-play").show(),t.slick("slickPause")}),a("#"+e).next(o).find(".js-carousel-play").click(function(){a(this).hide(),a(this).parent().find(".js-carousel-pause").show(),t.slick("slickPlay")})}),a(".js-expert-carousel-slider-v4:not(.auto)").next(o).hide(),a(".js-expert-carousel-slider-v4:not(.auto)").slick({dots:!0,arrows:!0,infinite:!1,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{speed:300,slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{speed:300,slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{speed:300,slidesToShow:1,slidesToScroll:1}}]}),a(".js-expert-carousel-slider").slick({dots:!0,arrows:!0,infinite:!1,slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{speed:300,slidesToShow:2,slidesToScroll:1}},{breakpoint:992,settings:{speed:300,slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{speed:300,slidesToShow:1,slidesToScroll:1}}]})),a(".expert-carousel .js-same-height").matchHeight(),a(".expert-card-grid .js-same-height").matchHeight()}(window.jQuery),function(t){var a=t(".js-expert-view-more"),o=t(".js-expert-view-less"),n=t(".js-expert-more-details"),e=t(".expert__phone").find(".js-show-phone"),i=t(".accordion-toggle"),r=t(".js-accordion-about"),s=i.hasClass("js-carousel-toggle"),c=t(".js-expert-content .teaser-card-carousel"),l=t(".js-expert-content .article-blocks__container.js-slick"),d=window.matchMedia("(max-width: 767px)");function u(e){return 13===e.which||32===e.which||"click"===e.type}a.on("keydown click",function(e){u(e)&&(n.toggleClass("show"),t(this).toggle(),o.toggle())}),o.on("keydown click",function(e){u(e)&&(t(this).toggle(),a.toggle(),n.toggleClass("show"))}),e.on("keydown click",function(e){u(e)&&(t(this).closest(".expert__phone").find(".expert__phone-text").toggleClass("show"),t(this).hide())}),r.each(function(){d.matches?(t(this).attr("tabindex","0"),t(this).addClass("open")):(t(this).attr("tabindex","-1"),t(this).removeClass("open")),t(this).on("keydown click",function(e){u(e)&&t(this).toggleClass("open")})}),i.each(function(){t(this).is(":visible")&&d.matches&&t(this).on("keydown click",function(e){u(e)&&(t(this).toggleClass("open"),t(this).hasClass("open")?t(this).attr("aria-expanded","true"):t(this).attr("aria-expanded","false"),t(this).next().toggle(),s&&(c.find("li.slick-active button").click(),l.find("li.slick-active button").click()))})})}(window.jQuery),function(i){var a,t=i(".expert-description-container"),o=i(".expert-nav"),n=i(".expert-nav__links"),e=i("#expert-nav"),r=e.outerHeight(),s=e.find("a"),c=s.map(function(){var e=i(i(this).attr("href"));if(e.length)return e});function l(){var e=i(".js-header-contain").outerHeight();i(window).scroll(function(){o.is(":visible")&&(200<i(this).scrollTop()?(t.css("padding-top","90px"),o.addClass("fixed-top").css("top",e)):(o.removeClass("fixed-top"),t.css("padding-top","0")))})}function d(){setTimeout(function(){var t,a;n.prop("scrollWidth")>n.width()?(n.addClass("overflow"),n.not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,dots:!1,infinite:!1,outerEdgeLimit:!0,cssEase:"linear",variableWidth:!0,draggable:!1}),t=i(".slick-next"),(a=i(".slick-prev")).hide(),n.on("beforeChange",function(){n.find(".slick-slide").each(function(e){i(this).attr("data-slick-index",e)})}),n.on("afterChange",function(){var e=n.slick("slickCurrentSlide");a.toggle(0!==e),t.toggle(1!==e)})):n.removeClass("overflow")},500)}function u(){i(".js-expert-content:not(:has(*))").prev().each(function(){var e=i(this).attr("id");i('a[href="#'+e+'"]').closest("li").remove()})}function f(){var e=i(".js-expert-content").find(".search-results-section");setTimeout(function(){e.each(function(){"none"==i(this).css("display")&&(i(this).closest(".js-expert-content").empty(),u())})},1e3)}i(window).scroll(function(){var e=i(this).scrollTop()+r+200,t=c.map(function(){if(i(this).offset().top<e)return this}),t=(t=t[t.length-1])&&t.length?t[0].id:"";a!==t&&(a=t,s.parent().removeClass("active").end().filter("[href='#"+t+"']").parent().addClass("active"))}),i(document).ready(function(){var e=window.matchMedia("(min-width: 768px)");f(),s.click(function(e){var t=i(this).attr("href"),a=i(".js-regional-alert").length,o=window.matchMedia("(max-width: 1023px)");function n(e){i("html, body").stop().animate({scrollTop:i(t).offset().top-e},300)}n(200),a&&n(250),o.matches&&(n(160),a&&n(210)),e.preventDefault()}),l(),u(),e.matches&&d()}),i(window).on("resize",function(){d(),l()}),i(window).on("load",function(){f(),d()})}(window.jQuery),$(document).ready(function(){var t=$(".featured-panel"),e=$(".featured-panel .focus-visible"),a=window.matchMedia("(max-width: 576px)");a.matches&&($(".panel-img").hide(),$(".panel-gif").show());var o;a.matches||$(t).hover(function(){clearTimeout(o);var e=$(this);o=setTimeout(function(){$(e).addClass("expanded"),$(e).children(".panel-img").addClass("hide"),$(e).children(".panel-gif").removeClass("hide"),$(t).not(".expanded").addClass("collapsed")},250)},function(){clearTimeout(o);var e=$(this);$(e).removeClass("expanded"),$(e).children(".panel-img").removeClass("hide"),$(e).children(".panel-gif").addClass("hide"),$(t).not(".expanded").removeClass("collapsed")}),$(t).attr("tabindex","0"),$(window).keyup(function(){$(e)?($(t).removeClass("collapsed"),$(t).removeClass("expanded"),$(".focus-visible").addClass("expanded")):$(t).not(".focus-visible").addClass("collapsed")}),$(t).keydown(function(e){13===e.which&&(window.location=$(this).find(".featured-link").attr("href"))})}),function(a){var e=".sitecore-forms-container",t="sitecore-forms-container--is-anonymous",o="sitecore-forms-container--is-contact",n='input[data-sc-field-name="CanWeContactField"]';0<a(n).length&&a(n).closest(e).addClass(t),a(n).on("change",function(){"No"==a(this).val()?a(this).closest(e).addClass(t).removeClass(o):a(this).closest(e).removeClass(t).addClass(o)}),a(".sitecore-form__captcha").each(function(){var e=a(this).attr("id");mtcaptchaConfig.renderQueue.push(e)}),a(document).on("sc-forms-submit-success",function(e){var t=a.parseJSON(e.detail),e=a("#"+t.formid);0<e.find(".validation-summary-errors").length||(e=e.closest(".sitecore-forms-modal").data("modalid"),"modal"==t.formtype&&void 0!==e&&(a("#sitecore-form__modal_"+e).modal("hide"),t='a[data-formkey="'+e+'-link"]',0<a(e='a[data-formkey="'+e+'-modal"]').length&&0<a(t).length&&(a(e).each(function(){a(this).addClass("d-none").removeClass("d-inline-flex")}),a(t).each(function(){(a(this).parent().hasClass("container-fluid")?a(this):a(this).addClass("d-inline-flex")).removeClass("d-none")}),a(t)[0].click())))}),a('.modal[id^="sitecore-form__modal_"]').each(function(e,t){a(t).appendTo("body")})}(window.jQuery);var tokenfieldComponent={init:function(){function l(){setTimeout(function(){$(document.activeElement).blur()})}var e=$(".js-tokenfield"),t=$(".js-tokenfield-search"),d=t.parent();$(".tokenfield-dropdown");$.each(t,function(e,t){$(this).click(function(){$($(this).siblings(".tokenfield")).find(".ui-autocomplete-input").focus()})}),e.length&&$.each(e,function(e,t){var a=$(this),o=a.data("translated-placeholder"),i=a.data("translated-select-all-text"),r=a.data("translated-all-markets-text"),s=a.data("translated-no-results-text"),c=a.data("select-all-guid"),n=a.data("url");$.ajax({url:n,type:"GET",success:function(e){var n=e;a.on("tokenfield:initialize",function(e){$(this).siblings(".token-input").attr("placeholder",o)}).on("tokenfield:createtoken",function(a){var o=!1;$.each(n,function(e,t){if(t.value===a.attrs.value)return!(o=!0)}),a.attrs.value===c||o||(a.preventDefault(),l());var e=$(this).tokenfield("getTokens");$.each(e,function(e,t){t.value===a.attrs.value&&(a.preventDefault(),l())}),a.attrs.value===c&&(a.attrs.label=r,$(this).tokenfield("setTokens",[]))}).on("tokenfield:createdtoken",function(t){$.grep(n,function(e){e.value===t.attrs.value&&($(t.relatedTarget).find(".token-label").text(e.label),e.selected=!0)}),0<$(this).tokenfield("getTokens").length&&$(this).siblings(".token-input").removeAttr("placeholder"),l()}).on("tokenfield:removedtoken",function(e){var t=e.attrs;0===$(this).tokenfield("getTokens").length&&$(this).siblings(".token-input").attr("placeholder",o);e=$(this).data("bs.tokenfield").$input[0].id;t.value===c&&($("#"+e).autocomplete("option","disabled",!1),n.forEach(function(e){e.selected=!1})),Array.isArray(t)?t.forEach(function(t){$.grep(n,function(e){e.value===t.value&&(e.selected=!1)})}):$.grep(n,function(e){e.value===t.value&&(e.selected=!1)})}).tokenfield({autocomplete:{appendTo:d,classes:{"ui-autocomplete":"tokenfield-dropdown"},focus:function(e,t){e.preventDefault(),$(this).val(t.item.label)},source:function(e,t){var a=$.ui.autocomplete.filter(n,e.term);t(a=0===a.length?[{label:s+" &quot;"+e.term+"&quot;",value:s}]:a)},response:function(e,t){t.content.push({label:i,value:c})},create:function(t){setTimeout(function(){var e=$(t.target);0<=a.tokenfield("getTokensList").indexOf(c)&&(a.tokenfield("setTokens",[{value:c,label:r}]),e.autocomplete("option","disabled",!0).attr("placeholder","")),0<a.tokenfield("getTokensList").length&&e.attr("placeholder","")})},select:function(e,t){t.item.value===c&&$(e.target).autocomplete("option","disabled",!0),t.item.selected=!0},close:function(e,t){e.target.value=""}},showAutocompleteOnFocus:!0}).data("bs.tokenfield").$input.data("ui-autocomplete")._renderItem=function(e,t){return(t.selected?$('<li class="d-none">').html("<div>"+t.label+"</div>"):t.value===s?$("<li>").attr("class","no-matches").append(t.label):$("<li>").html("<div>"+t.label+"</div>")).appendTo(e)}},error:function(e,t){alert("Request: "+JSON.stringify(e))}})})}};function updateStockPrice(){$.getJSON("/api/sitecore/Stock/ColliersStock",function(e){var t;null===e||null===e.nyse||e.nyse.length<1||"e"===e.nyse.updown?(0<$("#nasdaqPrice").text().indexOf("--")&&$(".ticker1").hide(),$(".nasdaqPrice").each(function(){0<$(this).text().indexOf("--")&&$(".ticker1").hide()})):($(".ticker1").show(),$("#nasdaqPrice").text(e.nyse.price),$(".nasdaqPrice").each(function(){$(this).text(e.nyse.price)}),t=$("#nasdaqUpDown"),"u"===e.nyse.updown?t.attr("class","fas fa-caret-up"):t.attr("class","fas fa-caret-down"),$("#nasdaqDiff").text(e.nyse.difference),$(".nasdaqDiff").each(function(){$(this).text(e.nyse.difference)}),$("#nasdaqDataTm").text(e.nyse.asof)),null===e||null===e.tse||e.tse.length<1||"e"===e.tse.updown?(0<$("#tsxPrice").text().indexOf("--")&&$(".ticker2").hide(),$(".tsxPrice").each(function(){0<$(this).text().indexOf("--")&&$(".ticker2").hide()})):($(".ticker2").show(),$("#tsxPrice").text(e.tse.price),$(".tsxPrice").each(function(){$(this).text(e.tse.price)}),t=$("#tsxUpDown"),"u"===e.tse.updown?t.attr("class","fas fa-caret-up"):t.attr("class","fas fa-caret-down"),$("#tsxDiff").text(e.tse.difference),$(".tsxDiff").each(function(){$(this).text(e.tse.difference)}),$("#tsxDataTm").text(e.tse.asof))}).then(function(){setTimeout(updateStockPrice,18e4)}).fail(function(){0<$("#nasdaqPrice").text().indexOf("--")&&$(".ticker1").hide(),$(".nasdaqPrice").each(function(){0<$(this).text().indexOf("--")&&$(".ticker1").hide()}),0<$("#tsxPrice").text().indexOf("--")&&$(".ticker2").hide(),$(".tsxPrice").each(function(){0<$(this).text().indexOf("--")&&$(".ticker2").hide()}),setTimeout(updateStockPrice,3e5)})}$(function(){tokenfieldComponent.init()}),window,{init:function(){$("#colliers__modal").on("show.bs.modal",function(e){e="#"+$(e.relatedTarget).data("content")+" .modal-dialog";$("#colliers__modal .modal-dialog").remove(),$("#colliers__modal").append($(e))}),$("#colliers__modal").on("hidden.bs.modal",function(){var e=$("#colliers__modal .modal-dialog").data("return");$("#"+e).append($("#colliers__modal .modal-dialog"))})}}.init(),function(e){var t=e(".js-officeCard-slider");e(".officeCard").find(".js-show-phone").on("click",function(){e(this).next(".js-officeCard-phone").show(),e(this).hide()}),isSitecorePageEditor()||t.each(function(){e(this).slick({dots:!0,arrows:!0,slidesToShow:2,slidesToScroll:2,autoplay:!1,autoplaySpeed:3e3,speed:1e3,responsive:[{breakpoint:1200,settings:{speed:300,slidesToShow:2,slidesToScroll:2,autoplay:!1}},{breakpoint:768,settings:{speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!1}}]}),1==e(this).slick("getSlick").slideCount&&e(this).addClass("officeCard-slider--single"),2==e(this).slick("getSlick").slideCount&&e(this).addClass("officeCard-slider--double")})}(window.jQuery),function(n){function e(){var e=n(".body-wrapper"),t=n("footer").height(),a=n(".hero--behind-header").outerHeight(),o=n(".js-header-contain").outerHeight();window.matchMedia("(min-width: 768px)").matches?e.css({"padding-bottom":t,"min-height":"calc(100vh - "+(a+o+1)+"px)"}):e.css("padding-bottom",0)}n(window).on("load",function(){e()}),n(window).on("resize",function(){e()}),n(".js-regional-alert").on("closed.bs.alert",function(){e()})}(window.jQuery),(COLLIERS=COLLIERS||{}).Property=COLLIERS.Property||{},function(a){a(window).bind("resize load",function(){var e=a(".property-details__accordian-collapse"),t=a(".js-property-details__accordian-heading");a(".js-property-details__accordian-heading").not(this).find(".fa-angle-right").removeClass("down"),1200<=a(this).width()?(e.removeClass("hide").addClass("show"),t.attr("tabindex","-1")):(e.removeClass("show").addClass("hide"),t.attr("tabindex","0"))}),a(document).on("click",function(e){a(".js-share").is(e.target)||a(".property-details__tooltip-container").is(e.target)||a(e.target).parents(".property-details__tooltip-container").length||a(".property-details__tooltip-container").is(":visible")&&(a(".property-details__tooltip-container").hide(),a(".js-share").attr("aria-expanded","false"))}),a(window).width()<=576&&a(".js-share").removeAttr("aria-expanded"),a(".js-share").on("click",function(){a(window).width()<=576?(a("#property-details__share-modal").modal("show"),a("#property-details__share-modal").modal({backdrop:"true"}),a("body").addClass("modal-open"),a(".property-details__tooltip-container").hide()):(a(".property-details__tooltip-container").toggle(),a("#property-details__share-modal").modal({backdrop:"static"}),a("#property-details__share-modal").modal("hide"),a("body").removeClass("modal-open"),a(".modal-backdrop").remove(),a("body").css("padding","0"),a(this).attr("aria-expanded",function(e,t){return"true"==t?"false":"true"}))}),a(".js-inspection").on("click",function(e){e.preventDefault(),a("#inspection-modal").modal("show").find(".modal-content").load(a(this).attr("href")),console.log(a(this).attr("href"))}),a(".js-expert-card__call-text").on("click",function(){var e=a(this);768<=a(window).width()&&e.closest(".expert-card__phone").addClass("expert-card__show-number")}),0==a(".property-details__sidebar-container").children().length&&a(".property-details__content-container").addClass("full-width");var e=".property-details.property-details--preview";a(window).on("load",function(){a(e).find(".favorite-icon__container").attr("tabindex","-1"),a(e).find(".property-details__banner, .property-details__content-container-main").find('a, button, [role="button"], input, textarea, [tabindex="0"]').attr("tabindex","-1"),a(e).find(".property-details__accordian-collapse").collapse("show")})}(window.jQuery),function(i){var t=i(".property-details__multiple-experts"),e=t.find(".js-expert-back"),a=i(".js-close-expert"),o=i(".js-view-expert-form");i(".js-expert-card-select").on("click",function(){i(this).closest(".expert-card").addClass("show"),t.find(".property-details__multiple-experts-banner").hide(),t.find(".expert-card").not(i(this).closest(".expert-card")).hide()}),e.on("click",function(){i(this).closest(".expert-card").removeClass("show"),i(".expert-card").show(),t.find(".property-details__multiple-experts-banner").show()}),a.on("click",function(){i(".expert-card").removeClass("show").show(),t.find(".property-details__multiple-experts-banner").show()}),o.on("click",function(){t.find(".expert-card").not(e).removeClass("show");var e=i(this).closest(".expert-card");e.addClass("show"),i("html, body").animate({scrollTop:e.offset().top-75},1e3)}),i(window).on("resize",function(){var e=i("#property-details__modal");1200<i(window).width()?(e.modal("hide"),e.css("display","block")):e.hasClass("show")?e.show():e.hide()}),i(document).ready(function(){var e=window.matchMedia("(min-width: 1200px)"),t=i(".property-details__contact-container").width;e.matches&&i(".property-details__contact-container").css("width",t);function a(e,t,a){var o=e.outerHeight(),n=a.offset().top;t.scrollTop()>=n-80?(a.height(o),e.addClass("affix")):(e.removeClass("affix"),a.height("auto")),e.offset().top+e.height()>=i(".footer").offset().top-200&&e.addClass("affix-bottom"),i(document).scrollTop()+window.innerHeight<i(".footer").offset().top&&e.removeClass("affix-bottom"),!i(".expert-card").hasClass("show")&&1!==i(".expert-card").length||e.removeClass("affix")}i('[data-toggle="affix"]').each(function(){var e=i(this),t=i("<div></div>");e.before(t),i(window).on("scroll resize",function(){a(e,i(this),t)}),a(e,i(window),t)})})}(window.jQuery),function(t){var e=t('a[role="tab"].accordion-header'),a=t('a[role="tab"].accordion-header + .tab'),o=t('[role="button"].accordion-header[data-toggle="collapse"]');function n(e){return 13===e.which||32===e.which||"click"===e.type}e.each(function(){t(this).on("keydown click",function(e){n(e)&&a.slideDown(800)})}),o.on("keydown click",function(e){n(e)&&(t(this).toggleClass("accordion-open"),t(this).hasClass("accordion-open")?t(this).attr("aria-expanded","true"):t(this).attr("aria-expanded","false"),t(this).next().collapse("toggle"))})}(window.jQuery),function(r){r(".tab-list").each(function(){const e=window.crypto||window.msCrypto;var t=new Uint32Array(1),a="-"+e.getRandomValues(t).toString(36).substr(2,9)+"-",i=r(this);i.not(".tab-directory").find(".tab-content .content-block").addClass("tab").first().addClass("open"),i.find(".tabs li a").each(function(e){r(this).attr({"aria-controls":"tab"+a+e,"aria-selected":"false","data-tab":"tab"+a+e,role:"tab",id:"tab-nav"+a+e});var t=r(r(this).clone()).attr({class:"accordion-header",id:"tab-nav-clone"+a+e});i.find(".tab:eq("+e+")").attr({id:"tab"+a+e,role:"tabpanel","aria-labelledby":"tab-nav"+a+e}).before(t)}),i.find(".tabs li.open a").attr({"aria-selected":"true"}),i.find(".tab-content").find(".accordion-header").first().addClass("open").attr({"aria-selected":"true"}),i.find("[role=tab]").on("keydown click",function(e){var t=r(this),a=r(this).attr("data-tab"),o=t.attr("aria-controls"),n=window.matchMedia("(max-width: 480px)");13!==(e=e).which&&32!==e.which&&"click"!==e.type||(i.find(".open").removeClass("open"),i.find(".tabs li a").attr("aria-selected","false"),i.find(".accordion-header").attr("aria-selected","false"),i.find("[data-tab="+a+"]").attr({"aria-selected":"true"}).addClass("open").parent().addClass("open"),i.find("#"+o).addClass("open"),t.hasClass("accordion-header")&&(r("html, body").animate({scrollTop:t.offset().top},800),n.matches&&r("html, body").animate({scrollTop:t.offset().top-90},800)))})})}(jQuery),function(t){t(document).ready(function(){t(".js-teaser-card-carousel").slick({infinite:!0,variableWidth:!0,centerMode:!1,arrow:!0,dots:!0,dotsClass:"slick-dots--custom",slidesToShow:3,useCSS:!1,responsive:[{breakpoint:1199,settings:{arrows:!1,centerMode:!0,dots:!0,dotsClass:"slick-dots--custom",slidesToShow:2}},{breakpoint:767,settings:{arrows:!1,centerMode:!0,dots:!0,dotsClass:"slick-dots--custom",slidesToShow:1}}]}),t(".js-teaser-card-carousel").each(function(){var e=t(this);e.find(".slick-slide").length<=3&&e.find(".slick-dots--custom").addClass("slick-dots--desktop-hidden")}),t(".js-teaser-card-carousel").on("beforeChange",function(){t(this).find('[data-toggle="teaser-tooltip"]').tooltip("hide")}),t(".js-two-item-carousel").slick({infinite:!0,variableWidth:!0,centerMode:!0,arrows:!1,dots:!0,dotsClass:"slick-dots--custom",slidesToShow:1,mobileFirst:!0,useCSS:!1,accessibility:!1,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,centerMode:!0,infinite:!1}},{breakpoint:1200,settings:"unslick"}]}),t(".js-offices-card-carousel").slick({infinite:!1,variableWidth:!0,centerMode:!1,arrow:!0,dots:!1,slidesToShow:4,useCSS:!1,responsive:[{breakpoint:1199,settings:{slidesToShow:3}},{breakpoint:991,settings:{slidesToShow:2}},{breakpoint:576,settings:{slidesToShow:1}}]})}),t(window).on("resize orientationchange",function(){t(".js-two-item-carousel").slick("resize")}),0==t(".portfolios-property-search__results-container").find(".portfolios-property-search__map-container").length&&t(".portfolios-property-search__results-container").find("#propertyresults").addClass("no-map")}(window.jQuery),function(e){var t=e(".js-textcard-carousel");isSitecorePageEditor()||t.each(function(){e(this).slick({dots:!0,arrows:!0,slidesToShow:2,slidesToScroll:2,autoplay:!1,autoplaySpeed:3e3,speed:1e3,responsive:[{breakpoint:1200,settings:{speed:300,slidesToShow:2,slidesToScroll:2,autoplay:!1}},{breakpoint:768,settings:{speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!1}}]}),1==e(this).slick("getSlick").slideCount&&e(this).addClass("textcard-carousel--single"),2==e(this).slick("getSlick").slideCount&&e(this).addClass("textcard-carousel--double")})}(window.jQuery),$(document).ready(function(){($("body.coveo-mobile-device").length||window.innerWidth<480)&&$(".container-footer .icons-stocks a").each(function(){var e=$(this).attr("href");0<=e.toLowerCase().indexOf("nasdaq")&&$(this).prop("href",e.replace("www","m"))}),($(".stock-ticker").length||$(".featured-stock-ticker").length)&&updateStockPrice()}),function(o){o(".play-video-btn").click(function(){var e=o("body").width()-40;1280<e&&(e=1280);var t=o(this).attr("video-id"),a='<iframe width="'+e+'" height="'+(e=e,Math.round(e/85*48))+'" src="https://www.youtube.com/embed/'+t+'?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe>';o(".image-hero").append('<div class="hero-video-overlay"> <button type="button" class="close" data-dismiss="modal">&times;</button></div>'),o(".hero-video-overlay").fadeIn("slow",function(){o(this).append(a)}),o(".hero-video-overlay .close").click(function(){o(".hero-video-overlay").fadeOut("fast",function(){o(this).remove()})})})}(window.jQuery),function(o){function n(e){return 13===e.which||32===e.which||"click"===e.type}function i(e){switch(e.data){case YT.PlayerState.ENDED:$this.parent().show(),$this.parent().next().html("");break;case YT.PlayerState.PLAYING:case YT.PlayerState.PAUSED:case YT.PlayerState.BUFFERING:case YT.PlayerState.CUED:}}o("*").hasClass("video-overlay")&&o("body").append('<script src="https://www.youtube.com/iframe_api"><\/script>'),o(".video-poster-clickeable").on("keydown click",function(e){var t,a;n(e)&&(a=(t=o(this)).attr("id"),e=t.parent().next().data("label"),t.parent().next().html('<iframe class="embed-responsive-item" id="player_'+a+'" width="'+t.width()+'" height="'+t.height()+'" src="https://www.youtube.com/embed/'+a+'?enablejsapi=1&autoplay=1&autohide=1&showinfo=0&rel=0" frameborder="0" allow="autoplay" allowfullscreen aria-label="'+e+'"></iframe>'),t.parent().hide(),new YT.Player("player_"+a,{events:{onStateChange:i}}))}),o(".video-poster-iframe").on("keydown click",function(e){var t,a;n(e)&&(e=(t=o(this).parent().next().children("iframe")).attr("data-src"),o(this).parent().hide(),t.attr("allow","autoplay"),o(this).parent().next().show(),void 0!==e&&!1!==e?(a=t.attr("data-src"),t.attr("data-src",a+"&autoplay=1")):(a=t.attr("src"),t.attr("src",a+"&autoplay=1")))})}(window.jQuery);